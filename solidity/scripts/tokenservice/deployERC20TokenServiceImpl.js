import * as dotenv from "dotenv";
import { ethers, Wallet } from "ethers";
import Safe, { SafeFactory } from "@safe-global/protocol-kit";
import { EthersAdapter } from "@safe-global/protocol-kit";
import SafeApiKit from "@safe-global/api-kit";
import {CreateCallAbi} from "../ABI/ABI.js";

dotenv.config();

const SAFE_ADDRESS = process.env.SAFE_ADDRESS;
const provider = new ethers.providers.JsonRpcProvider(
    "https://eth-goerli.g.alchemy.com/v2/fLCeKO4GA9Gc3js8MUt9Djy7WHCFxATq"
);
const deployerSigner = new ethers.Wallet(process.env.secret_key1, provider);
const bytecode = "0x60a06040523073ffffffffffffffffffffffffffffffffffffffff1660809073ffffffffffffffffffffffffffffffffffffffff16815250348015610042575f80fd5b506080516151626100775f395f8181610cf001528181610d7e01528181610f4701528181610fd501526110a301526151625ff3fe6080604052600436106101e2575f3560e01c80636b3da26f11610101578063af83d4d811610094578063ea6469f811610063578063ea6469f814610753578063f2fde38b1461077b578063f78dd84d146107a3578063fffb5183146107cb576101e2565b8063af83d4d81461068b578063c6e36a32146106b3578063c86a64f7146106ef578063cbf50bb61461072b576101e2565b806391e8d207116100d057806391e8d207146105d55780639a8a0592146105fd5780639c43ae2a14610627578063a323c7f514610663576101e2565b80636b3da26f1461050b57806370f54376146105475780637598e6711461056f5780638da5cb5b146105ab576101e2565b80634eeea7ad11610179578063550325b511610148578063550325b51461043b578063555e90741461047857806360362514146104b957806368d39cfd146104cf576101e2565b80634eeea7ad1461037d5780634f1ef286146103b95780635153d467146103d557806352d1902d14610411576101e2565b80632e2f4e24116101b55780632e2f4e24146102b35780633659cfe6146102ef578063477c2aa5146103175780634e70b1dc14610353576101e2565b806305cd5a36146101e657806313f06a671461020e578063188b53391461024a5780632c0bf7c81461028b575b5f80fd5b3480156101f1575f80fd5b5061020c60048036038101906102079190613433565b6107f3565b005b348015610219575f80fd5b50610234600480360381019061022f91906137c8565b610950565b604051610241919061383c565b60405180910390f35b348015610255575f80fd5b50610270600480360381019061026b9190613855565b6109cc565b604051610282969594939291906139b9565b60405180910390f35b348015610296575f80fd5b506102b160048036038101906102ac9190613a2d565b610c88565b005b3480156102be575f80fd5b506102d960048036038101906102d49190613433565b610c9c565b6040516102e6919061383c565b60405180910390f35b3480156102fa575f80fd5b5061031560048036038101906103109190613433565b610cee565b005b348015610322575f80fd5b5061033d60048036038101906103389190613a2d565b610e74565b60405161034a919061383c565b60405180910390f35b34801561035e575f80fd5b50610367610eb2565b6040516103749190613a74565b60405180910390f35b348015610388575f80fd5b506103a3600480360381019061039e9190613855565b610eb8565b6040516103b09190613baf565b60405180910390f35b6103d360048036038101906103ce9190613c6d565b610f45565b005b3480156103e0575f80fd5b506103fb60048036038101906103f69190613cc7565b611081565b604051610408919061383c565b60405180910390f35b34801561041c575f80fd5b506104256110a0565b6040516104329190613d0a565b60405180910390f35b348015610446575f80fd5b50610461600480360381019061045c9190613cc7565b611157565b60405161046f929190613d6b565b60405180910390f35b348015610483575f80fd5b5061049e60048036038101906104999190613855565b6111fd565b6040516104b0969594939291906139b9565b60405180910390f35b3480156104c4575f80fd5b506104cd6114b9565b005b3480156104da575f80fd5b506104f560048036038101906104f09190613a2d565b6114d4565b604051610502919061383c565b60405180910390f35b348015610516575f80fd5b50610531600480360381019061052c9190613433565b611511565b60405161053e919061383c565b60405180910390f35b348015610552575f80fd5b5061056d60048036038101906105689190613e7b565b611563565b005b34801561057a575f80fd5b5061059560048036038101906105909190613855565b6115aa565b6040516105a29190613baf565b60405180910390f35b3480156105b6575f80fd5b506105bf611899565b6040516105cc9190613ed1565b60405180910390f35b3480156105e0575f80fd5b506105fb60048036038101906105f69190613eea565b6118be565b005b348015610608575f80fd5b506106116119ec565b60405161061e9190613a74565b60405180910390f35b348015610632575f80fd5b5061064d60048036038101906106489190613a2d565b6119f6565b60405161065a919061383c565b60405180910390f35b34801561066e575f80fd5b5061068960048036038101906106849190613a2d565b611a33565b005b348015610696575f80fd5b506106b160048036038101906106ac9190613f28565b611ab7565b005b3480156106be575f80fd5b506106d960048036038101906106d49190613855565b611c21565b6040516106e69190613a74565b60405180910390f35b3480156106fa575f80fd5b5061071560048036038101906107109190613cc7565b611c41565b6040516107229190613a74565b60405180910390f35b348015610736575f80fd5b50610751600480360381019061074c9190613cc7565b611c56565b005b34801561075e575f80fd5b5061077960048036038101906107749190613eea565b611d90565b005b348015610786575f80fd5b506107a1600480360381019061079c9190613433565b611f26565b005b3480156107ae575f80fd5b506107c960048036038101906107c49190613433565b611ff8565b005b3480156107d6575f80fd5b506107f160048036038101906107ec9190613f82565b6121cd565b005b60055f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610882576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108799061401c565b60405180910390fd5b61088b81611511565b6108ca576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108c190614084565b60405180910390fd5b60085f8273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a81549060ff02191690557f18952ed4229327e2d83d53a06b823c2da3b19cb320c82017b8da5f60b6dfe8f0816040516109459190613ed1565b60405180910390a150565b5f60035f84604001515f015181526020019081526020015f205f846020015181526020019081526020015f205f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900460ff16905092915050565b600d602052815f5260405f20602052805f5260405f205f9150915050805f015490806001015490806002016040518060400160405290815f8201548152602001600182018054610a1b906140cf565b80601f0160208091040260200160405190810160405280929190818152602001828054610a47906140cf565b8015610a925780601f10610a6957610100808354040283529160200191610a92565b820191905f5260205f20905b815481529060010190602001808311610a7557829003601f168201915b50505050508152505090806004016040518060400160405290815f8201548152602001600182018054610ac4906140cf565b80601f0160208091040260200160405190810160405280929190818152602001828054610af0906140cf565b8015610b3b5780601f10610b1257610100808354040283529160200191610b3b565b820191905f5260205f20905b815481529060010190602001808311610b1e57829003601f168201915b50505050508152505090806006016040518060600160405290815f82018054610b63906140cf565b80601f0160208091040260200160405190810160405280929190818152602001828054610b8f906140cf565b8015610bda5780601f10610bb157610100808354040283529160200191610bda565b820191905f5260205f20905b815481529060010190602001808311610bbd57829003601f168201915b5050505050815260200160018201548152602001600282018054610bfd906140cf565b80601f0160208091040260200160405190810160405280929190818152602001828054610c29906140cf565b8015610c745780601f10610c4b57610100808354040283529160200191610c74565b820191905f5260205f20905b815481529060010190602001808311610c5757829003601f168201915b505050505081525050908060090154905086565b610c906123f1565b610c998161243b565b50565b5f60065f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900460ff169050919050565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff1603610d7c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d739061416f565b60405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16610dbb61245b565b73ffffffffffffffffffffffffffffffffffffffff1614610e11576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e08906141fd565b60405180910390fd5b610e1a816124ae565b610e71815f67ffffffffffffffff811115610e3857610e37613472565b5b6040519080825280601f01601f191660200182016040528015610e6a5781602001600182028036833780820191505090505b505f612509565b50565b5f610e7d612673565b60025f84604001515f015181526020019081526020015f205f846020015181526020019081526020015f205410159050919050565b600e5481565b610ec06132f2565b5f610ecb84846115aa565b90505f81604001515f015114158015610ee857505f816020015114155b610f27576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f1e90614265565b60405180910390fd5b610f308161267c565b610f3b8160026126d7565b8091505092915050565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff1603610fd3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610fca9061416f565b60405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1661101261245b565b73ffffffffffffffffffffffffffffffffffffffff1614611068576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161105f906141fd565b60405180910390fd5b611071826124ae565b61107d82826001612509565b5050565b5f8060095f8481526020019081526020015f205f015414159050919050565b5f7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff161461112f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611126906142f3565b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5f1b905090565b6009602052805f5260405f205f91509050805f01549080600101805461117c906140cf565b80601f01602080910402602001604051908101604052809291908181526020018280546111a8906140cf565b80156111f35780601f106111ca576101008083540402835291602001916111f3565b820191905f5260205f20905b8154815290600101906020018083116111d657829003601f168201915b5050505050905082565b600c602052815f5260405f20602052805f5260405f205f9150915050805f015490806001015490806002016040518060400160405290815f820154815260200160018201805461124c906140cf565b80601f0160208091040260200160405190810160405280929190818152602001828054611278906140cf565b80156112c35780601f1061129a576101008083540402835291602001916112c3565b820191905f5260205f20905b8154815290600101906020018083116112a657829003601f168201915b50505050508152505090806004016040518060400160405290815f82015481526020016001820180546112f5906140cf565b80601f0160208091040260200160405190810160405280929190818152602001828054611321906140cf565b801561136c5780601f106113435761010080835404028352916020019161136c565b820191905f5260205f20905b81548152906001019060200180831161134f57829003601f168201915b50505050508152505090806006016040518060600160405290815f82018054611394906140cf565b80601f01602080910402602001604051908101604052809291908181526020018280546113c0906140cf565b801561140b5780601f106113e25761010080835404028352916020019161140b565b820191905f5260205f20905b8154815290600101906020018083116113ee57829003601f168201915b505050505081526020016001820154815260200160028201805461142e906140cf565b80601f016020809104026020016040519081016040528092919081815260200182805461145a906140cf565b80156114a55780601f1061147c576101008083540402835291602001916114a5565b820191905f5260205f20905b81548152906001019060200180831161148857829003601f168201915b505050505081525050908060090154905086565b6002600e5f8282546114cb919061433e565b92505081905550565b5f8160200151600c5f84604001515f015181526020019081526020015f205f846020015181526020019081526020015f2060010154149050919050565b5f60085f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900460ff169050919050565b61156b6123f1565b5f5b81518110156115a65761159982828151811061158c5761158b614371565b5b602002602001015161243b565b808060010191505061156d565b5050565b6115b26132f2565b600b5f8481526020019081526020015f205f8381526020019081526020015f206040518060c00160405290815f820154815260200160018201548152602001600282016040518060400160405290815f8201548152602001600182018054611619906140cf565b80601f0160208091040260200160405190810160405280929190818152602001828054611645906140cf565b80156116905780601f1061166757610100808354040283529160200191611690565b820191905f5260205f20905b81548152906001019060200180831161167357829003601f168201915b5050505050815250508152602001600482016040518060400160405290815f82015481526020016001820180546116c6906140cf565b80601f01602080910402602001604051908101604052809291908181526020018280546116f2906140cf565b801561173d5780601f106117145761010080835404028352916020019161173d565b820191905f5260205f20905b81548152906001019060200180831161172057829003601f168201915b5050505050815250508152602001600682016040518060600160405290815f82018054611769906140cf565b80601f0160208091040260200160405190810160405280929190818152602001828054611795906140cf565b80156117e05780601f106117b7576101008083540402835291602001916117e0565b820191905f5260205f20905b8154815290600101906020018083116117c357829003601f168201915b5050505050815260200160018201548152602001600282018054611803906140cf565b80601f016020809104026020016040519081016040528092919081815260200182805461182f906140cf565b801561187a5780601f106118515761010080835404028352916020019161187a565b820191905f5260205f20905b81548152906001019060200180831161185d57829003601f168201915b5050505050815250508152602001600982015481525050905092915050565b60055f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60055f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161461194d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016119449061401c565b60405180910390fd5b61195682610c9c565b156119e85760065f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a81549060ff0219169055806007819055507f4d9baafb1aaa72b5de32bbdb949ea3d6be986b9989a747834d6470df6738352d82826040516119df92919061439e565b60405180910390a15b5050565b5f805f0154905090565b5f8160200151600b5f84604001515f015181526020019081526020015f205f846020015181526020019081526020015f2060010154149050919050565b611a4881606001515f015182608001516126e5565b6001815f018181525050611a6281606001515f0151612783565b816020018181525050611a74816127c5565b7f15d67f952704171b18b5a68c69b8d1621463c29ee111228904fb591bf1a60a4081604051611aa39190613baf565b60405180910390a1611ab4816128a4565b50565b60055f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611b46576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611b3d9061401c565b60405180910390fd5b611b4f82611081565b15611b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611b869061440f565b60405180910390fd5b60405180604001604052808381526020018281525060095f8481526020019081526020015f205f820151815f01556020820151816001019081611bd291906145ca565b509050507f98d2ada6e8e6c16dc5c0cd7305c7ea2a5487d613218c7498c4b1ce5c8fbd452560095f8481526020019081526020015f20604051611c15919061478d565b60405180910390a15050565b6002602052815f5260405f20602052805f5260405f205f91509150505481565b6004602052805f5260405f205f915090505481565b60055f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611ce5576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611cdc9061401c565b60405180910390fd5b611cee81611081565b611d2d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611d24906147f7565b60405180910390fd5b60095f8281526020019081526020015f205f8082015f9055600182015f611d549190613337565b50507f11a9d1a77f76361ed131c19b1dc5758504c51dbde2e49fc973a0ef9577ad13d581604051611d859190613a74565b60405180910390a150565b60055f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611e1f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611e169061401c565b60405180910390fd5b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603611e8d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611e849061485f565b60405180910390fd5b600160065f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a81548160ff021916908315150217905550806007819055507f3048c9ea63a33da5ed9a73829970fa3c31e6a8b32bbc5747e24632f61c027e8e8282604051611f1a92919061439e565b60405180910390a15050565b60055f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611fb5576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611fac9061401c565b60405180910390fd5b8060055f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60055f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614612087576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161207e9061401c565b60405180910390fd5b5f73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036120f5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016120ec9061485f565b60405180910390fd5b6120fe81611511565b1561213e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612135906148c7565b60405180910390fd5b600160085f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a81548160ff0219169083151502179055507f94a4797e4c030e498da08bb8871d39298528d0f1269fba1da4363703331d58e9816040516121c29190613ed1565b60405180910390a150565b5f600a60019054906101000a900460ff161590508080156121ff57506001600a5f9054906101000a900460ff1660ff16105b8061222d575061220e306128a7565b15801561222c57506001600a5f9054906101000a900460ff1660ff16145b5b61226c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161226390614955565b60405180910390fd5b6001600a5f6101000a81548160ff021916908360ff16021790555080156122a9576001600a60016101000a81548160ff0219169083151502179055505b8260055f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600e819055506122fb336001611d90565b61233b60026040518060400160405280600681526020017f7461726765740000000000000000000000000000000000000000000000000000815250611ab7565b604051806040016040528085815260200161236d3073ffffffffffffffffffffffffffffffffffffffff1660146128c9565b8152505f80820151815f0155602082015181600101908161238e91906145ca565b5090505080156123eb575f600a60016101000a81548160ff0219169083151502179055507f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb384740249860016040516123e291906149b8565b60405180910390a15b50505050565b6123fa33610c9c565b612439576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161243090614a1b565b60405180910390fd5b565b6124448161267c565b61244f8160016126d7565b61245881612b07565b50565b5f6124877f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5f1b612b0a565b5f015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60055f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614612506575f80fd5b50565b6125347f4910fdfa16fed3260ed0e7147f7cc6da11a60208b5b9406d12a635614ffd91435f1b612b13565b5f015f9054906101000a900460ff16156125565761255183612b1c565b61266e565b8273ffffffffffffffffffffffffffffffffffffffff166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa9250505080156125be57506040513d601f19601f820116820180604052508101906125bb9190614a63565b60015b6125fd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016125f490614afe565b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5f1b8114612661576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161265890614b8c565b60405180910390fd5b5061266d838383612bd2565b5b505050565b5f600754905090565b61268c81604001515f0151611081565b6126cb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016126c2906147f7565b60405180910390fd5b6126d481612bfd565b50565b6126e18282612c52565b5050565b6126ef8282612c8d565b6126f833611511565b612737576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161272e90614c1a565b60405180910390fd5b61274082611081565b61277f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161277690614c82565b60405180910390fd5b5050565b5f600160045f8481526020019081526020015f205f8282546127a5919061433e565b9250508190555060045f8381526020019081526020015f20549050919050565b80600d5f83606001515f015181526020019081526020015f205f836020015181526020019081526020015f205f820151815f0155602082015181600101556040820151816002015f820151815f0155602082015181600101908161282991906145ca565b5050506060820151816004015f820151815f0155602082015181600101908161285291906145ca565b5050506080820151816006015f820151815f01908161287191906145ca565b5060208201518160010155604082015181600201908161289191906145ca565b50505060a0820151816009015590505050565b50565b5f808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b60605f8390505f60028460026128df9190614ca0565b6128e9919061433e565b67ffffffffffffffff81111561290257612901613472565b5b6040519080825280601f01601f1916602001820160405280156129345781602001600182028036833780820191505090505b5090507f3000000000000000000000000000000000000000000000000000000000000000815f8151811061296b5761296a614371565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191690815f1a9053507f7800000000000000000000000000000000000000000000000000000000000000816001815181106129ce576129cd614371565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191690815f1a9053505f6001856002612a0c9190614ca0565b612a16919061433e565b90505b6001811115612ab5577f3031323334353637383961626364656600000000000000000000000000000000600f841660108110612a5857612a57614371565b5b1a60f81b828281518110612a6f57612a6e614371565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191690815f1a905350600483901c925080612aae90614ce1565b9050612a19565b505f8214612afc5784846040517fe22e27eb000000000000000000000000000000000000000000000000000000008152600401612af3929190614d08565b60405180910390fd5b809250505092915050565b50565b5f819050919050565b5f819050919050565b612b25816128a7565b612b64576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612b5b90614d9f565b60405180910390fd5b80612b907f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc5f1b612b0a565b5f015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b612bdb83612c91565b5f82511180612be75750805b15612bf857612bf68383612ce0565b505b505050565b612c0681612d0d565b612c0f816114d4565b15612c4f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612c4690614e07565b60405180910390fd5b50565b612c5c8282612dcf565b612c65826119f6565b1580612c72575060028114155b612c8957612c7f82612f56565b612c8882612ffe565b5b5050565b5050565b612c9a81612b1c565b8073ffffffffffffffffffffffffffffffffffffffff167fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b60405160405180910390a250565b6060612d058383604051806060016040528060278152602001615106602791396130dd565b905092915050565b612d16816131a6565b612d1f816119f6565b612dcc5780606001515f01515f80015414612d6f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612d6690614e95565b60405180910390fd5b612d8c816060015160200151612d8490614f0b565b60601c611511565b612dcb576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612dc290614fbb565b60405180910390fd5b5b50565b60018103612f5257612de182826131a9565b612deb8233610950565b15612e2e577ff2e18ba904d21c9b7200dad45159d4585fce71fb9105368f994e6c456a39ce808233604051612e21929190614fd9565b60405180910390a1612f52565b7f8a8665a4b47429dc929a50a020648e9d8d86a4624786fde0d3518104023233598233604051612e5f929190614fd9565b60405180910390a1600160035f84604001515f015181526020019081526020015f205f846020015181526020019081526020015f205f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a81548160ff021916908315150217905550600160025f84604001515f015181526020019081526020015f205f846020015181526020019081526020015f205f828254612f20919061433e565b92505081905550612f3082610e74565b8015612f425750612f40826119f6565b155b15612f5157612f50826131ad565b5b5b5050565b600b5f82604001515f015181526020019081526020015f205f826020015181526020019081526020015f205f8082015f9055600182015f9055600282015f8082015f9055600182015f612fa99190613337565b5050600482015f8082015f9055600182015f612fc59190613337565b5050600682015f8082015f612fda9190613337565b600182015f9055600282015f612ff09190613337565b5050600982015f9055505050565b80600c5f83604001515f015181526020019081526020015f205f836020015181526020019081526020015f205f820151815f0155602082015181600101556040820151816002015f820151815f0155602082015181600101908161306291906145ca565b5050506060820151816004015f820151815f0155602082015181600101908161308b91906145ca565b5050506080820151816006015f820151815f0190816130aa91906145ca565b506020820151816001015560408201518160020190816130ca91906145ca565b50505060a0820151816009015590505050565b60606130e8846128a7565b613127576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161311e90615077565b60405180910390fd5b5f808573ffffffffffffffffffffffffffffffffffffffff168560405161314e91906150cf565b5f60405180830381855af49150503d805f8114613186576040519150601f19603f3d011682016040523d82523d5f602084013e61318b565b606091505b509150915061319b82828661328c565b925050509392505050565b50565b5050565b80600b5f83604001515f015181526020019081526020015f205f836020015181526020019081526020015f205f820151815f0155602082015181600101556040820151816002015f820151815f0155602082015181600101908161321191906145ca565b5050506060820151816004015f820151815f0155602082015181600101908161323a91906145ca565b5050506080820151816006015f820151815f01908161325991906145ca565b5060208201518160010155604082015181600201908161327991906145ca565b50505060a0820151816009015590505050565b6060831561329c578290506132eb565b5f835111156132ae5782518084602001fd5b816040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016132e291906150e5565b60405180910390fd5b9392505050565b6040518060c001604052805f81526020015f8152602001613311613374565b815260200161331e613374565b815260200161332b61338d565b81526020015f81525090565b508054613343906140cf565b5f825580601f106133545750613371565b601f0160209004905f5260205f209081019061337091906133ad565b5b50565b60405180604001604052805f8152602001606081525090565b6040518060600160405280606081526020015f8152602001606081525090565b5b808211156133c4575f815f9055506001016133ae565b5090565b5f604051905090565b5f80fd5b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f613402826133d9565b9050919050565b613412816133f8565b811461341c575f80fd5b50565b5f8135905061342d81613409565b92915050565b5f60208284031215613448576134476133d1565b5b5f6134558482850161341f565b91505092915050565b5f80fd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b6134a882613462565b810181811067ffffffffffffffff821117156134c7576134c6613472565b5b80604052505050565b5f6134d96133c8565b90506134e5828261349f565b919050565b5f80fd5b5f819050919050565b613500816134ee565b811461350a575f80fd5b50565b5f8135905061351b816134f7565b92915050565b5f80fd5b5f80fd5b5f67ffffffffffffffff82111561354357613542613472565b5b61354c82613462565b9050602081019050919050565b828183375f83830152505050565b5f61357961357484613529565b6134d0565b90508281526020810184848401111561359557613594613525565b5b6135a0848285613559565b509392505050565b5f82601f8301126135bc576135bb613521565b5b81356135cc848260208601613567565b91505092915050565b5f604082840312156135ea576135e961345e565b5b6135f460406134d0565b90505f6136038482850161350d565b5f83015250602082013567ffffffffffffffff811115613626576136256134ea565b5b613632848285016135a8565b60208301525092915050565b5f606082840312156136535761365261345e565b5b61365d60606134d0565b90505f82013567ffffffffffffffff81111561367c5761367b6134ea565b5b613688848285016135a8565b5f83015250602061369b8482850161350d565b602083015250604082013567ffffffffffffffff8111156136bf576136be6134ea565b5b6136cb848285016135a8565b60408301525092915050565b5f60c082840312156136ec576136eb61345e565b5b6136f660c06134d0565b90505f6137058482850161350d565b5f8301525060206137188482850161350d565b602083015250604082013567ffffffffffffffff81111561373c5761373b6134ea565b5b613748848285016135d5565b604083015250606082013567ffffffffffffffff81111561376c5761376b6134ea565b5b613778848285016135d5565b606083015250608082013567ffffffffffffffff81111561379c5761379b6134ea565b5b6137a88482850161363e565b60808301525060a06137bc8482850161350d565b60a08301525092915050565b5f80604083850312156137de576137dd6133d1565b5b5f83013567ffffffffffffffff8111156137fb576137fa6133d5565b5b613807858286016136d7565b92505060206138188582860161341f565b9150509250929050565b5f8115159050919050565b61383681613822565b82525050565b5f60208201905061384f5f83018461382d565b92915050565b5f806040838503121561386b5761386a6133d1565b5b5f6138788582860161350d565b92505060206138898582860161350d565b9150509250929050565b61389c816134ee565b82525050565b6138ab816134ee565b82525050565b5f81519050919050565b5f82825260208201905092915050565b5f5b838110156138e85780820151818401526020810190506138cd565b5f8484015250505050565b5f6138fd826138b1565b61390781856138bb565b93506139178185602086016138cb565b61392081613462565b840191505092915050565b5f604083015f8301516139405f8601826138a2565b506020830151848203602086015261395882826138f3565b9150508091505092915050565b5f606083015f8301518482035f86015261397f82826138f3565b915050602083015161399460208601826138a2565b50604083015184820360408601526139ac82826138f3565b9150508091505092915050565b5f60c0820190506139cc5f830189613893565b6139d96020830188613893565b81810360408301526139eb818761392b565b905081810360608301526139ff818661392b565b90508181036080830152613a138185613965565b9050613a2260a0830184613893565b979650505050505050565b5f60208284031215613a4257613a416133d1565b5b5f82013567ffffffffffffffff811115613a5f57613a5e6133d5565b5b613a6b848285016136d7565b91505092915050565b5f602082019050613a875f830184613893565b92915050565b5f604083015f830151613aa25f8601826138a2565b5060208301518482036020860152613aba82826138f3565b9150508091505092915050565b5f606083015f8301518482035f860152613ae182826138f3565b9150506020830151613af660208601826138a2565b5060408301518482036040860152613b0e82826138f3565b9150508091505092915050565b5f60c083015f830151613b305f8601826138a2565b506020830151613b4360208601826138a2565b5060408301518482036040860152613b5b8282613a8d565b91505060608301518482036060860152613b758282613a8d565b91505060808301518482036080860152613b8f8282613ac7565b91505060a0830151613ba460a08601826138a2565b508091505092915050565b5f6020820190508181035f830152613bc78184613b1b565b905092915050565b5f67ffffffffffffffff821115613be957613be8613472565b5b613bf282613462565b9050602081019050919050565b5f613c11613c0c84613bcf565b6134d0565b905082815260208101848484011115613c2d57613c2c613525565b5b613c38848285613559565b509392505050565b5f82601f830112613c5457613c53613521565b5b8135613c64848260208601613bff565b91505092915050565b5f8060408385031215613c8357613c826133d1565b5b5f613c908582860161341f565b925050602083013567ffffffffffffffff811115613cb157613cb06133d5565b5b613cbd85828601613c40565b9150509250929050565b5f60208284031215613cdc57613cdb6133d1565b5b5f613ce98482850161350d565b91505092915050565b5f819050919050565b613d0481613cf2565b82525050565b5f602082019050613d1d5f830184613cfb565b92915050565b5f82825260208201905092915050565b5f613d3d826138b1565b613d478185613d23565b9350613d578185602086016138cb565b613d6081613462565b840191505092915050565b5f604082019050613d7e5f830185613893565b8181036020830152613d908184613d33565b90509392505050565b5f67ffffffffffffffff821115613db357613db2613472565b5b602082029050602081019050919050565b5f80fd5b5f613dda613dd584613d99565b6134d0565b90508083825260208201905060208402830185811115613dfd57613dfc613dc4565b5b835b81811015613e4457803567ffffffffffffffff811115613e2257613e21613521565b5b808601613e2f89826136d7565b85526020850194505050602081019050613dff565b5050509392505050565b5f82601f830112613e6257613e61613521565b5b8135613e72848260208601613dc8565b91505092915050565b5f60208284031215613e9057613e8f6133d1565b5b5f82013567ffffffffffffffff811115613ead57613eac6133d5565b5b613eb984828501613e4e565b91505092915050565b613ecb816133f8565b82525050565b5f602082019050613ee45f830184613ec2565b92915050565b5f8060408385031215613f0057613eff6133d1565b5b5f613f0d8582860161341f565b9250506020613f1e8582860161350d565b9150509250929050565b5f8060408385031215613f3e57613f3d6133d1565b5b5f613f4b8582860161350d565b925050602083013567ffffffffffffffff811115613f6c57613f6b6133d5565b5b613f78858286016135a8565b9150509250929050565b5f805f60608486031215613f9957613f986133d1565b5b5f613fa68682870161350d565b9350506020613fb78682870161341f565b9250506040613fc88682870161350d565b9150509250925092565b7f4e6f74206f776e657200000000000000000000000000000000000000000000005f82015250565b5f614006600983613d23565b915061401182613fd2565b602082019050919050565b5f6020820190508181035f83015261403381613ffa565b9050919050565b7f556e6b6e6f776e20546f6b656e205365727669636500000000000000000000005f82015250565b5f61406e601583613d23565b91506140798261403a565b602082019050919050565b5f6020820190508181035f83015261409b81614062565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f60028204905060018216806140e657607f821691505b6020821081036140f9576140f86140a2565b5b50919050565b7f46756e6374696f6e206d7573742062652063616c6c6564207468726f756768205f8201527f64656c656761746563616c6c0000000000000000000000000000000000000000602082015250565b5f614159602c83613d23565b9150614164826140ff565b604082019050919050565b5f6020820190508181035f8301526141868161414d565b9050919050565b7f46756e6374696f6e206d7573742062652063616c6c6564207468726f756768205f8201527f6163746976652070726f78790000000000000000000000000000000000000000602082015250565b5f6141e7602c83613d23565b91506141f28261418d565b604082019050919050565b5f6020820190508181035f830152614214816141db565b9050919050565b7f5a65726f205061636b65740000000000000000000000000000000000000000005f82015250565b5f61424f600b83613d23565b915061425a8261421b565b602082019050919050565b5f6020820190508181035f83015261427c81614243565b9050919050565b7f555550535570677261646561626c653a206d757374206e6f742062652063616c5f8201527f6c6564207468726f7567682064656c656761746563616c6c0000000000000000602082015250565b5f6142dd603883613d23565b91506142e882614283565b604082019050919050565b5f6020820190508181035f83015261430a816142d1565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f614348826134ee565b9150614353836134ee565b925082820190508082111561436b5761436a614311565b5b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b5f6040820190506143b15f830185613ec2565b6143be6020830184613893565b9392505050565b7f436861696e20616c726561647920737570706f727465640000000000000000005f82015250565b5f6143f9601783613d23565b9150614404826143c5565b602082019050919050565b5f6020820190508181035f830152614426816143ed565b9050919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f600883026144897fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8261444e565b614493868361444e565b95508019841693508086168417925050509392505050565b5f819050919050565b5f6144ce6144c96144c4846134ee565b6144ab565b6134ee565b9050919050565b5f819050919050565b6144e7836144b4565b6144fb6144f3826144d5565b84845461445a565b825550505050565b5f90565b61450f614503565b61451a8184846144de565b505050565b5b8181101561453d576145325f82614507565b600181019050614520565b5050565b601f821115614582576145538161442d565b61455c8461443f565b8101602085101561456b578190505b61457f6145778561443f565b83018261451f565b50505b505050565b5f82821c905092915050565b5f6145a25f1984600802614587565b1980831691505092915050565b5f6145ba8383614593565b9150826002028217905092915050565b6145d3826138b1565b67ffffffffffffffff8111156145ec576145eb613472565b5b6145f682546140cf565b614601828285614541565b5f60209050601f831160018114614632575f8415614620578287015190505b61462a85826145af565b865550614691565b601f1984166146408661442d565b5f5b8281101561466757848901518255600182019150602085019450602081019050614642565b868310156146845784890151614680601f891682614593565b8355505b6001600288020188555050505b505050505050565b5f815f1c9050919050565b5f819050919050565b5f6146bf6146ba83614699565b6146a4565b9050919050565b5f81546146d2816140cf565b6146dc81866138bb565b9450600182165f81146146f6576001811461470c5761473e565b60ff19831686528115156020028601935061473e565b6147158561442d565b5f5b8381101561473657815481890152600182019150602081019050614717565b808801955050505b50505092915050565b5f604083015f80840154905061475c816146ad565b6147685f8701826138a2565b5060018401858303602087015261477f83826146c6565b925050819250505092915050565b5f6020820190508181035f8301526147a58184614747565b905092915050565b7f556e6b6e6f776e20636861696e496400000000000000000000000000000000005f82015250565b5f6147e1600f83613d23565b91506147ec826147ad565b602082019050919050565b5f6020820190508181035f83015261480e816147d5565b9050919050565b7f5a65726f204164647265737300000000000000000000000000000000000000005f82015250565b5f614849600c83613d23565b915061485482614815565b602082019050919050565b5f6020820190508181035f8301526148768161483d565b9050919050565b7f546f6b656e205365727669636520616c726561647920616464656400000000005f82015250565b5f6148b1601b83613d23565b91506148bc8261487d565b602082019050919050565b5f6020820190508181035f8301526148de816148a5565b9050919050565b7f496e697469616c697a61626c653a20636f6e747261637420697320616c7265615f8201527f647920696e697469616c697a6564000000000000000000000000000000000000602082015250565b5f61493f602e83613d23565b915061494a826148e5565b604082019050919050565b5f6020820190508181035f83015261496c81614933565b9050919050565b5f819050919050565b5f60ff82169050919050565b5f6149a261499d61499884614973565b6144ab565b61497c565b9050919050565b6149b281614988565b82525050565b5f6020820190506149cb5f8301846149a9565b92915050565b7f556e6b6e6f776e204174746573746f72000000000000000000000000000000005f82015250565b5f614a05601083613d23565b9150614a10826149d1565b602082019050919050565b5f6020820190508181035f830152614a32816149f9565b9050919050565b614a4281613cf2565b8114614a4c575f80fd5b50565b5f81519050614a5d81614a39565b92915050565b5f60208284031215614a7857614a776133d1565b5b5f614a8584828501614a4f565b91505092915050565b7f45524331393637557067726164653a206e657720696d706c656d656e746174695f8201527f6f6e206973206e6f742055555053000000000000000000000000000000000000602082015250565b5f614ae8602e83613d23565b9150614af382614a8e565b604082019050919050565b5f6020820190508181035f830152614b1581614adc565b9050919050565b7f45524331393637557067726164653a20756e737570706f727465642070726f785f8201527f6961626c65555549440000000000000000000000000000000000000000000000602082015250565b5f614b76602983613d23565b9150614b8182614b1c565b604082019050919050565b5f6020820190508181035f830152614ba381614b6a565b9050919050565b7f43616c6c6572206973206e6f74207265676973746572656420546f6b656e20535f8201527f6572766963650000000000000000000000000000000000000000000000000000602082015250565b5f614c04602683613d23565b9150614c0f82614baa565b604082019050919050565b5f6020820190508181035f830152614c3181614bf8565b9050919050565b7f44657374696e6174696f6e20436861696e206e6f7420737570706f72746564005f82015250565b5f614c6c601f83613d23565b9150614c7782614c38565b602082019050919050565b5f6020820190508181035f830152614c9981614c60565b9050919050565b5f614caa826134ee565b9150614cb5836134ee565b9250828202614cc3816134ee565b91508282048414831517614cda57614cd9614311565b5b5092915050565b5f614ceb826134ee565b91505f8203614cfd57614cfc614311565b5b600182039050919050565b5f604082019050614d1b5f830185613893565b614d286020830184613893565b9392505050565b7f455243313936373a206e657720696d706c656d656e746174696f6e206973206e5f8201527f6f74206120636f6e747261637400000000000000000000000000000000000000602082015250565b5f614d89602d83613d23565b9150614d9482614d2f565b604082019050919050565b5f6020820190508181035f830152614db681614d7d565b9050919050565b7f5061636b657420616c726561647920636f6e73756d65640000000000000000005f82015250565b5f614df1601783613d23565b9150614dfc82614dbd565b602082019050919050565b5f6020820190508181035f830152614e1e81614de5565b9050919050565b7f5061636b6574206e6f7420696e74656e64656420666f722074686973204368615f8201527f696e000000000000000000000000000000000000000000000000000000000000602082015250565b5f614e7f602283613d23565b9150614e8a82614e25565b604082019050919050565b5f6020820190508181035f830152614eac81614e73565b9050919050565b5f81519050919050565b5f819050602082019050919050565b5f7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000082169050919050565b5f614f028251614ecc565b80915050919050565b5f614f1582614eb3565b82614f1f84614ebd565b9050614f2a81614ef7565b92506014821015614f6a57614f657fffffffffffffffffffffffffffffffffffffffff0000000000000000000000008360140360080261444e565b831692505b5050919050565b7f556e6b6e6f776e20546f6b656e204164647265737300000000000000000000005f82015250565b5f614fa5601583613d23565b9150614fb082614f71565b602082019050919050565b5f6020820190508181035f830152614fd281614f99565b9050919050565b5f6040820190508181035f830152614ff18185613b1b565b90506150006020830184613ec2565b9392505050565b7f416464726573733a2064656c65676174652063616c6c20746f206e6f6e2d636f5f8201527f6e74726163740000000000000000000000000000000000000000000000000000602082015250565b5f615061602683613d23565b915061506c82615007565b604082019050919050565b5f6020820190508181035f83015261508e81615055565b9050919050565b5f81905092915050565b5f6150a982614eb3565b6150b38185615095565b93506150c38185602086016138cb565b80840191505092915050565b5f6150da828461509f565b915081905092915050565b5f6020820190508181035f8301526150fd8184613d33565b90509291505056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a26469706673582212203974b7b5efdd19844cf02b62861866d3fb8c2171734015e1a15a03751863f55764736f6c63430008160033";

// const chainId = 100;
// const num = 12;
// const multisigAddr = "0x0e27875afe33Ea44a9720fE0D70b1Cb9dc57aCC2";
// const _data  = new ethers.utils.AbiCoder().encode(["uint","address", "uint"], [chainmultisigAddr]);

// Encode deployment
const deployerInterface = new ethers.utils.Interface(CreateCallAbi);
const deployCallData = deployerInterface.encodeFunctionData("performCreate", [
    0,
    bytecode,
]);

const ethAdapter = new EthersAdapter({
    ethers,
    signerOrProvider: deployerSigner,
});
const safeService = new SafeApiKit.default({
    txServiceUrl: "https://safe-transaction-goerli.safe.global",
    ethAdapter,
});

const txData = {
    to: process.env.CREATECALL_CONTRACT_ADDRESS,
    value: "0",
    data: deployCallData,
};
const safeSdk = await Safe.default.create({
    ethAdapter: ethAdapter,
    safeAddress: SAFE_ADDRESS,
});
const safeTx = await safeSdk.createTransaction({
    safeTransactionData: txData,
});
const safeTxHash = await safeSdk.getTransactionHash(safeTx);

const signature = await safeSdk.signTypedData(safeTx);
console.log("txn hash", safeTxHash);

const transactionConfig = {
    safeAddress: SAFE_ADDRESS,
    safeTransactionData: safeTx.data,
    safeTxHash: safeTxHash,
    senderAddress: process.env.SENDER_ADDRESS,
    senderSignature: signature.data,
};

await safeService.proposeTransaction(transactionConfig);