import * as dotenv from "dotenv";
import { ethers, Wallet } from "ethers";
import Safe, { SafeFactory } from "@safe-global/protocol-kit";
import { EthersAdapter } from "@safe-global/protocol-kit";
import SafeApiKit from "@safe-global/api-kit";
import {CreateCallAbi} from "../ABI/ABI.js";

dotenv.config();

const SAFE_ADDRESS = process.env.SAFE_ADDRESS;
const provider = new ethers.providers.JsonRpcProvider(
    "https://eth-goerli.g.alchemy.com/v2/fLCeKO4GA9Gc3js8MUt9Djy7WHCFxATq"
);
const deployerSigner = new ethers.Wallet(process.env.SECRET_KEY1, provider);
const bytecode = "0x60a06040523073ffffffffffffffffffffffffffffffffffffffff1660809073ffffffffffffffffffffffffffffffffffffffff1681525034801561004357600080fd5b5060805161418961007b600039600081816104db01528181610569015281816108eb015281816109790152610a2901526141896000f3fe6080604052600436106101095760003560e01c80637104ddb2116100955780639936077e116100645780639936077e1461035e578063a01ef25f14610387578063e47d6060146103b0578063f2fde38b146103ed578063f6ef3a4c1461041657610109565b80637104ddb2146102b557806377f15ece146102e1578063853ff5771461030a5780638da5cb5b1461033357610109565b80634a49ac4c116100dc5780634a49ac4c146101da5780634f1ef2861461020357806352d1902d1461021f5780635fa7b5841461024a57806368c4ac261461027357610109565b8063240028e81461010e5780633659cfe61461014b57806340ab599214610174578063417c73a7146101b1575b600080fd5b34801561011a57600080fd5b50610135600480360381019061013091906125d5565b61043f565b604051610142919061261d565b60405180910390f35b34801561015757600080fd5b50610172600480360381019061016d91906125d5565b6104d9565b005b34801561018057600080fd5b5061019b6004803603810190610196919061266e565b610661565b6040516101a8919061261d565b60405180910390f35b3480156101bd57600080fd5b506101d860048036038101906101d391906125d5565b6106b3565b005b3480156101e657600080fd5b5061020160048036038101906101fc91906125d5565b6107d2565b005b61021d600480360381019061021891906127f4565b6108e9565b005b34801561022b57600080fd5b50610234610a25565b6040516102419190612869565b60405180910390f35b34801561025657600080fd5b50610271600480360381019061026c91906125d5565b610ade565b005b34801561027f57600080fd5b5061029a600480360381019061029591906125d5565b610c82565b6040516102ac9695949392919061296d565b60405180910390f35b3480156102c157600080fd5b506102ca610e37565b6040516102d89291906129dc565b60405180910390f35b3480156102ed57600080fd5b5061030860048036038101906103039190612ca2565b610e69565b005b34801561031657600080fd5b50610331600480360381019061032c9190612ceb565b6111a3565b005b34801561033f57600080fd5b506103486113f7565b6040516103559190612db0565b60405180910390f35b34801561036a57600080fd5b5061038560048036038101906103809190612e09565b61141b565b005b34801561039357600080fd5b506103ae60048036038101906103a99190612e36565b6114ed565b005b3480156103bc57600080fd5b506103d760048036038101906103d291906125d5565b611739565b6040516103e4919061261d565b60405180910390f35b3480156103f957600080fd5b50610414600480360381019061040f91906125d5565b6118d5565b005b34801561042257600080fd5b5061043d60048036038101906104389190612eb1565b6119a6565b005b60008173ffffffffffffffffffffffffffffffffffffffff16600460008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16149050919050565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff1603610567576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161055e90612fb7565b60405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166105a6611dc5565b73ffffffffffffffffffffffffffffffffffffffff16146105fc576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105f390613049565b60405180910390fd5b61060581611e1c565b61065e81600067ffffffffffffffff811115610624576106236126c9565b5b6040519080825280601f01601f1916602001820160405280156106565781602001600182028036833780820191505090505b506000611e2b565b50565b600081600460008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206001016000015414905092915050565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610741576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610738906130b5565b60405180910390fd5b7ff4b7ec55a49ac1da7e692ab86df6fbd4f88d5106cb8fec0e074dc795e4f628df816040516107709190612db0565b60405180910390a160018060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610860576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610857906130b5565b60405180910390fd5b7f2b7660b9783fc5217982251aa2052ee8b0ffb8b409bd74b84b2a08e8a92316e08160405161088f9190612db0565b60405180910390a1600160008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81549060ff021916905550565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff1603610977576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161096e90612fb7565b60405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166109b6611dc5565b73ffffffffffffffffffffffffffffffffffffffff1614610a0c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a0390613049565b60405180910390fd5b610a1582611e1c565b610a2182826001611e2b565b5050565b60007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff1614610ab5576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610aac90613147565b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b905090565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610b6c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b63906130b5565b60405180910390fd5b610b758161043f565b610bb4576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610bab906131b3565b60405180910390fd5b600460008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600080820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905560018201600080820160009055600182016000610c389190612436565b505060038201600080820160009055600182016000610c579190612436565b5050600582016000905560068201600090556007820160006101000a81549060ff0219169055505050565b60046020528060005260406000206000915090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010160405180604001604052908160008201548152602001600182018054610ce590613202565b80601f0160208091040260200160405190810160405280929190818152602001828054610d1190613202565b8015610d5e5780601f10610d3357610100808354040283529160200191610d5e565b820191906000526020600020905b815481529060010190602001808311610d4157829003601f168201915b505050505081525050908060030160405180604001604052908160008201548152602001600182018054610d9190613202565b80601f0160208091040260200160405190810160405280929190818152602001828054610dbd90613202565b8015610e0a5780601f10610ddf57610100808354040283529160200191610e0a565b820191906000526020600020905b815481529060010190602001808311610ded57829003601f168201915b505050505081525050908060050154908060060154908060070160009054906101000a900460ff16905086565b60078060000154908060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905082565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663842dc8ac826040518263ffffffff1660e01b8152600401610ec4919061338e565b6000604051808303816000875af1158015610ee3573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f82011682018060405250810190610f0c919061363c565b503073ffffffffffffffffffffffffffffffffffffffff1681606001516020015173ffffffffffffffffffffffffffffffffffffffff1614610f83576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f7a906136f7565b60405180910390fd5b6000816080015160600151905060008260800151602001519050610fa68161043f565b610fe5576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610fdc906131b3565b60405180910390fd5b610fee82611739565b15611128578073ffffffffffffffffffffffffffffffffffffffff1663a9059cbb600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff168560800151604001516040518363ffffffff1660e01b8152600401611058929190613717565b600060405180830381600087803b15801561107257600080fd5b505af1158015611086573d6000803e3d6000fd5b50505050600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16637750c9f083838660800151604001516040518463ffffffff1660e01b81526004016110f193929190613740565b600060405180830381600087803b15801561110b57600080fd5b505af115801561111f573d6000803e3d6000fd5b5050505061119e565b8073ffffffffffffffffffffffffffffffffffffffff1663a9059cbb838560800151604001516040518363ffffffff1660e01b815260040161116b929190613717565b600060405180830381600087803b15801561118557600080fd5b505af1158015611199573d6000803e3d6000fd5b505050505b505050565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611231576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611228906130b5565b60405180910390fd5b60006040518060c001604052808873ffffffffffffffffffffffffffffffffffffffff1681526020016040518060400160405280898152602001888152508152602001604051806040016040528089815260200187815250815260200184815260200183815260200160011515815250905080600460008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001016000820151816000015560208201518160010190816113529190613923565b50505060408201518160030160008201518160000155602082015181600101908161137d9190613923565b505050606082015181600501556080820151816006015560a08201518160070160006101000a81548160ff0219169083151502179055509050507f839d02d0583fa574baa39f4bf41414bcf8067610ab83752241f1fa78a3051553816040516113e69190613a94565b60405180910390a150505050505050565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146114a9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016114a0906130b5565b60405180910390fd5b80600660006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60008060159054906101000a900460ff1615905080801561152057506001600060149054906101000a900460ff1660ff16105b8061154f575061152f30611f99565b15801561154e57506001600060149054906101000a900460ff1660ff16145b5b61158e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161158590613b28565b60405180910390fd5b6001600060146101000a81548160ff021916908360ff16021790555080156115cc576001600060156101000a81548160ff0219169083151502179055505b816000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555085600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060405180604001604052808681526020013073ffffffffffffffffffffffffffffffffffffffff1681525060076000820151816000015560208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055509050506116d88484611fbc565b80156117315760008060156101000a81548160ff0219169083151502179055507f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb384740249860016040516117289190613b90565b60405180910390a15b505050505050565b6000600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff168061182b5750600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663fe575a87836040518263ffffffff1660e01b81526004016117e99190612db0565b602060405180830381865afa158015611806573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061182a9190613bd7565b5b806118ce5750600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166359bf1abe836040518263ffffffff1660e01b815260040161188c9190612db0565b602060405180830381865afa1580156118a9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906118cd9190613bd7565b5b9050919050565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611963576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161195a906130b5565b60405180910390fd5b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6119af33611739565b156119ef576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016119e690613c50565b60405180910390fd5b6119f98482610661565b611a38576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a2f90613cbc565b60405180910390fd5b8373ffffffffffffffffffffffffffffffffffffffff166323b872dd3330866040518463ffffffff1660e01b8152600401611a7593929190613740565b600060405180830381600087803b158015611a8f57600080fd5b505af1158015611aa3573d6000803e3d6000fd5b50505050600060405180608001604052803373ffffffffffffffffffffffffffffffffffffffff168152602001600460008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206001016001018054611b2090613202565b80601f0160208091040260200160405190810160405280929190818152602001828054611b4c90613202565b8015611b995780601f10611b6e57610100808354040283529160200191611b99565b820191906000526020600020905b815481529060010190602001808311611b7c57829003601f168201915b50505050508152602001858152602001848152509050611bb7612476565b6007604051806040016040529081600082015481526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815250508160400181905250600460008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030160405180604001604052908160008201548152602001600182018054611c9390613202565b80601f0160208091040260200160405190810160405280929190818152602001828054611cbf90613202565b8015611d0c5780601f10611ce157610100808354040283529160200191611d0c565b820191906000526020600020905b815481529060010190602001808311611cef57829003601f168201915b5050505050815250508160600181905250818160800181905250438160a0018181525050600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e71d86dc826040518263ffffffff1660e01b8152600401611d8b9190613dd6565b600060405180830381600087803b158015611da557600080fd5b505af1158015611db9573d6000803e3d6000fd5b50505050505050505050565b6000611df37f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b61217b565b60000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60008054906101000a90505050565b611e577f4910fdfa16fed3260ed0e7147f7cc6da11a60208b5b9406d12a635614ffd914360001b612185565b60000160009054906101000a900460ff1615611e7b57611e768361218f565b611f94565b8273ffffffffffffffffffffffffffffffffffffffff166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa925050508015611ee357506040513d601f19601f82011682018060405250810190611ee09190613e24565b60015b611f22576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611f1990613ec3565b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b8114611f87576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611f7e90613f55565b60405180910390fd5b50611f93838383612248565b5b505050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b60008060159054906101000a900460ff16159050808015611fef57506001600060149054906101000a900460ff1660ff16105b8061201e5750611ffe30611f99565b15801561201d57506001600060149054906101000a900460ff1660ff16145b5b61205d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161205490613b28565b60405180910390fd5b6001600060146101000a81548160ff021916908360ff160217905550801561209b576001600060156101000a81548160ff0219169083151502179055505b82600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080156121765760008060156101000a81548160ff0219169083151502179055507f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb3847402498600160405161216d9190613b90565b60405180910390a15b505050565b6000819050919050565b6000819050919050565b61219881611f99565b6121d7576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016121ce90613fe7565b60405180910390fd5b806122047f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b61217b565b60000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b61225183612274565b60008251118061225e5750805b1561226f5761226d83836122c3565b505b505050565b61227d8161218f565b8073ffffffffffffffffffffffffffffffffffffffff167fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b60405160405180910390a250565b60606122e8838360405180606001604052806027815260200161412d602791396122f0565b905092915050565b60606122fb84611f99565b801561230d575061230b33611f99565b155b61234c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161234390614053565b60405180910390fd5b6000808573ffffffffffffffffffffffffffffffffffffffff168560405161237491906140ba565b600060405180830381855af49150503d80600081146123af576040519150601f19603f3d011682016040523d82523d6000602084013e6123b4565b606091505b50915091506123c48282866123cf565b925050509392505050565b606083156123df5782905061242f565b6000835111156123f25782518084602001fd5b816040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612426919061410a565b60405180910390fd5b9392505050565b50805461244290613202565b6000825580601f106124545750612473565b601f01602090049060005260206000209081019061247291906124be565b5b50565b6040518060c0016040528060008152602001600081526020016124976124db565b81526020016124a461250b565b81526020016124b1612525565b8152602001600081525090565b5b808211156124d75760008160009055506001016124bf565b5090565b604051806040016040528060008152602001600073ffffffffffffffffffffffffffffffffffffffff1681525090565b604051806040016040528060008152602001606081525090565b6040518060800160405280600073ffffffffffffffffffffffffffffffffffffffff1681526020016060815260200160008152602001606081525090565b6000604051905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006125a282612577565b9050919050565b6125b281612597565b81146125bd57600080fd5b50565b6000813590506125cf816125a9565b92915050565b6000602082840312156125eb576125ea61256d565b5b60006125f9848285016125c0565b91505092915050565b60008115159050919050565b61261781612602565b82525050565b6000602082019050612632600083018461260e565b92915050565b6000819050919050565b61264b81612638565b811461265657600080fd5b50565b60008135905061266881612642565b92915050565b600080604083850312156126855761268461256d565b5b6000612693858286016125c0565b92505060206126a485828601612659565b9150509250929050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b612701826126b8565b810181811067ffffffffffffffff821117156127205761271f6126c9565b5b80604052505050565b6000612733612563565b905061273f82826126f8565b919050565b600067ffffffffffffffff82111561275f5761275e6126c9565b5b612768826126b8565b9050602081019050919050565b82818337600083830152505050565b600061279761279284612744565b612729565b9050828152602081018484840111156127b3576127b26126b3565b5b6127be848285612775565b509392505050565b600082601f8301126127db576127da6126ae565b5b81356127eb848260208601612784565b91505092915050565b6000806040838503121561280b5761280a61256d565b5b6000612819858286016125c0565b925050602083013567ffffffffffffffff81111561283a57612839612572565b5b612846858286016127c6565b9150509250929050565b6000819050919050565b61286381612850565b82525050565b600060208201905061287e600083018461285a565b92915050565b61288d81612597565b82525050565b61289c81612638565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b838110156128dc5780820151818401526020810190506128c1565b60008484015250505050565b60006128f3826128a2565b6128fd81856128ad565b935061290d8185602086016128be565b612916816126b8565b840191505092915050565b60006040830160008301516129396000860182612893565b506020830151848203602086015261295182826128e8565b9150508091505092915050565b61296781612638565b82525050565b600060c0820190506129826000830189612884565b81810360208301526129948188612921565b905081810360408301526129a88187612921565b90506129b7606083018661295e565b6129c4608083018561295e565b6129d160a083018461260e565b979650505050505050565b60006040820190506129f1600083018561295e565b6129fe6020830184612884565b9392505050565b600080fd5b600080fd5b600067ffffffffffffffff821115612a2a57612a296126c9565b5b612a33826126b8565b9050602081019050919050565b6000612a53612a4e84612a0f565b612729565b905082815260208101848484011115612a6f57612a6e6126b3565b5b612a7a848285612775565b509392505050565b600082601f830112612a9757612a966126ae565b5b8135612aa7848260208601612a40565b91505092915050565b600060408284031215612ac657612ac5612a05565b5b612ad06040612729565b90506000612ae084828501612659565b600083015250602082013567ffffffffffffffff811115612b0457612b03612a0a565b5b612b1084828501612a82565b60208301525092915050565b600060408284031215612b3257612b31612a05565b5b612b3c6040612729565b90506000612b4c84828501612659565b6000830152506020612b60848285016125c0565b60208301525092915050565b600060808284031215612b8257612b81612a05565b5b612b8c6080612729565b90506000612b9c848285016125c0565b6000830152506020612bb0848285016125c0565b6020830152506040612bc484828501612659565b6040830152506060612bd8848285016125c0565b60608301525092915050565b60006101408284031215612bfb57612bfa612a05565b5b612c0560c0612729565b90506000612c1584828501612659565b6000830152506020612c2984828501612659565b602083015250604082013567ffffffffffffffff811115612c4d57612c4c612a0a565b5b612c5984828501612ab0565b6040830152506060612c6d84828501612b1c565b60608301525060a0612c8184828501612b6c565b608083015250610120612c9684828501612659565b60a08301525092915050565b600060208284031215612cb857612cb761256d565b5b600082013567ffffffffffffffff811115612cd657612cd5612572565b5b612ce284828501612be4565b91505092915050565b60008060008060008060c08789031215612d0857612d0761256d565b5b6000612d1689828a016125c0565b9650506020612d2789828a01612659565b955050604087013567ffffffffffffffff811115612d4857612d47612572565b5b612d5489828a01612a82565b945050606087013567ffffffffffffffff811115612d7557612d74612572565b5b612d8189828a01612a82565b9350506080612d9289828a01612659565b92505060a0612da389828a01612659565b9150509295509295509295565b6000602082019050612dc56000830184612884565b92915050565b6000612dd682612597565b9050919050565b612de681612dcb565b8114612df157600080fd5b50565b600081359050612e0381612ddd565b92915050565b600060208284031215612e1f57612e1e61256d565b5b6000612e2d84828501612df4565b91505092915050565b600080600080600060a08688031215612e5257612e5161256d565b5b6000612e60888289016125c0565b9550506020612e7188828901612659565b9450506040612e82888289016125c0565b9350506060612e93888289016125c0565b9250506080612ea4888289016125c0565b9150509295509295909350565b60008060008060808587031215612ecb57612eca61256d565b5b6000612ed9878288016125c0565b9450506020612eea87828801612659565b935050604085013567ffffffffffffffff811115612f0b57612f0a612572565b5b612f1787828801612a82565b9250506060612f2887828801612659565b91505092959194509250565b600082825260208201905092915050565b7f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060008201527f64656c656761746563616c6c0000000000000000000000000000000000000000602082015250565b6000612fa1602c83612f34565b9150612fac82612f45565b604082019050919050565b60006020820190508181036000830152612fd081612f94565b9050919050565b7f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060008201527f6163746976652070726f78790000000000000000000000000000000000000000602082015250565b6000613033602c83612f34565b915061303e82612fd7565b604082019050919050565b6000602082019050818103600083015261306281613026565b9050919050565b7f4e6f74206f776e65720000000000000000000000000000000000000000000000600082015250565b600061309f600983612f34565b91506130aa82613069565b602082019050919050565b600060208201905081810360008301526130ce81613092565b9050919050565b7f555550535570677261646561626c653a206d757374206e6f742062652063616c60008201527f6c6564207468726f7567682064656c656761746563616c6c0000000000000000602082015250565b6000613131603883612f34565b915061313c826130d5565b604082019050919050565b6000602082019050818103600083015261316081613124565b9050919050565b7f546f6b656e206e6f7420737570706f7274656400000000000000000000000000600082015250565b600061319d601383612f34565b91506131a882613167565b602082019050919050565b600060208201905081810360008301526131cc81613190565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061321a57607f821691505b60208210810361322d5761322c6131d3565b5b50919050565b600060408301600083015161324b6000860182612893565b506020830151848203602086015261326382826128e8565b9150508091505092915050565b61327981612597565b82525050565b6040820160008201516132956000850182612893565b5060208201516132a86020850182613270565b50505050565b6080820160008201516132c46000850182613270565b5060208201516132d76020850182613270565b5060408201516132ea6040850182612893565b5060608201516132fd6060850182613270565b50505050565b60006101408301600083015161331c6000860182612893565b50602083015161332f6020860182612893565b50604083015184820360408601526133478282613233565b915050606083015161335c606086018261327f565b50608083015161336f60a08601826132ae565b5060a0830151613383610120860182612893565b508091505092915050565b600060208201905081810360008301526133a88184613303565b905092915050565b6000815190506133bf81612642565b92915050565b60006133d86133d384612a0f565b612729565b9050828152602081018484840111156133f4576133f36126b3565b5b6133ff8482856128be565b509392505050565b600082601f83011261341c5761341b6126ae565b5b815161342c8482602086016133c5565b91505092915050565b60006040828403121561344b5761344a612a05565b5b6134556040612729565b90506000613465848285016133b0565b600083015250602082015167ffffffffffffffff81111561348957613488612a0a565b5b61349584828501613407565b60208301525092915050565b6000815190506134b0816125a9565b92915050565b6000604082840312156134cc576134cb612a05565b5b6134d66040612729565b905060006134e6848285016133b0565b60008301525060206134fa848285016134a1565b60208301525092915050565b60006080828403121561351c5761351b612a05565b5b6135266080612729565b90506000613536848285016134a1565b600083015250602061354a848285016134a1565b602083015250604061355e848285016133b0565b6040830152506060613572848285016134a1565b60608301525092915050565b6000610140828403121561359557613594612a05565b5b61359f60c0612729565b905060006135af848285016133b0565b60008301525060206135c3848285016133b0565b602083015250604082015167ffffffffffffffff8111156135e7576135e6612a0a565b5b6135f384828501613435565b6040830152506060613607848285016134b6565b60608301525060a061361b84828501613506565b608083015250610120613630848285016133b0565b60a08301525092915050565b6000602082840312156136525761365161256d565b5b600082015167ffffffffffffffff8111156136705761366f612572565b5b61367c8482850161357e565b91505092915050565b7f5061636b6574206e6f7420696e74656e64656420666f72207468697320546f6b60008201527f656e205365727669636500000000000000000000000000000000000000000000602082015250565b60006136e1602a83612f34565b91506136ec82613685565b604082019050919050565b60006020820190508181036000830152613710816136d4565b9050919050565b600060408201905061372c6000830185612884565b613739602083018461295e565b9392505050565b60006060820190506137556000830186612884565b6137626020830185612884565b61376f604083018461295e565b949350505050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b6000600883026137d97fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8261379c565b6137e3868361379c565b95508019841693508086168417925050509392505050565b6000819050919050565b600061382061381b61381684612638565b6137fb565b612638565b9050919050565b6000819050919050565b61383a83613805565b61384e61384682613827565b8484546137a9565b825550505050565b600090565b613863613856565b61386e818484613831565b505050565b5b818110156138925761388760008261385b565b600181019050613874565b5050565b601f8211156138d7576138a881613777565b6138b18461378c565b810160208510156138c0578190505b6138d46138cc8561378c565b830182613873565b50505b505050565b600082821c905092915050565b60006138fa600019846008026138dc565b1980831691505092915050565b600061391383836138e9565b9150826002028217905092915050565b61392c826128a2565b67ffffffffffffffff811115613945576139446126c9565b5b61394f8254613202565b61395a828285613896565b600060209050601f83116001811461398d576000841561397b578287015190505b6139858582613907565b8655506139ed565b601f19841661399b86613777565b60005b828110156139c35784890151825560018201915060208501945060208101905061399e565b868310156139e057848901516139dc601f8916826138e9565b8355505b6001600288020188555050505b505050505050565b6139fe81612602565b82525050565b600060c083016000830151613a1c6000860182613270565b5060208301518482036020860152613a348282613233565b91505060408301518482036040860152613a4e8282613233565b9150506060830151613a636060860182612893565b506080830151613a766080860182612893565b5060a0830151613a8960a08601826139f5565b508091505092915050565b60006020820190508181036000830152613aae8184613a04565b905092915050565b7f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160008201527f647920696e697469616c697a6564000000000000000000000000000000000000602082015250565b6000613b12602e83612f34565b9150613b1d82613ab6565b604082019050919050565b60006020820190508181036000830152613b4181613b05565b9050919050565b6000819050919050565b600060ff82169050919050565b6000613b7a613b75613b7084613b48565b6137fb565b613b52565b9050919050565b613b8a81613b5f565b82525050565b6000602082019050613ba56000830184613b81565b92915050565b613bb481612602565b8114613bbf57600080fd5b50565b600081519050613bd181613bab565b92915050565b600060208284031215613bed57613bec61256d565b5b6000613bfb84828501613bc2565b91505092915050565b7f53656e64657220426c61636b6c69737465640000000000000000000000000000600082015250565b6000613c3a601283612f34565b9150613c4582613c04565b602082019050919050565b60006020820190508181036000830152613c6981613c2d565b9050919050565b7f556e6b6e6f776e20746f6b656e20416464726573730000000000000000000000600082015250565b6000613ca6601583612f34565b9150613cb182613c70565b602082019050919050565b60006020820190508181036000830152613cd581613c99565b9050919050565b6000608083016000830151613cf46000860182613270565b5060208301518482036020860152613d0c82826128e8565b9150506040830151613d216040860182612893565b5060608301518482036060860152613d3982826128e8565b9150508091505092915050565b600060e083016000830151613d5e6000860182612893565b506020830151613d716020860182612893565b506040830151613d84604086018261327f565b5060608301518482036080860152613d9c8282613233565b915050608083015184820360a0860152613db68282613cdc565b91505060a0830151613dcb60c0860182612893565b508091505092915050565b60006020820190508181036000830152613df08184613d46565b905092915050565b613e0181612850565b8114613e0c57600080fd5b50565b600081519050613e1e81613df8565b92915050565b600060208284031215613e3a57613e3961256d565b5b6000613e4884828501613e0f565b91505092915050565b7f45524331393637557067726164653a206e657720696d706c656d656e7461746960008201527f6f6e206973206e6f742055555053000000000000000000000000000000000000602082015250565b6000613ead602e83612f34565b9150613eb882613e51565b604082019050919050565b60006020820190508181036000830152613edc81613ea0565b9050919050565b7f45524331393637557067726164653a20756e737570706f727465642070726f7860008201527f6961626c65555549440000000000000000000000000000000000000000000000602082015250565b6000613f3f602983612f34565b9150613f4a82613ee3565b604082019050919050565b60006020820190508181036000830152613f6e81613f32565b9050919050565b7f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60008201527f6f74206120636f6e747261637400000000000000000000000000000000000000602082015250565b6000613fd1602d83612f34565b9150613fdc82613f75565b604082019050919050565b6000602082019050818103600083015261400081613fc4565b9050919050565b7f416464726573733a20696e76616c69642064656c65676174652063616c6c0000600082015250565b600061403d601e83612f34565b915061404882614007565b602082019050919050565b6000602082019050818103600083015261406c81614030565b9050919050565b600081519050919050565b600081905092915050565b600061409482614073565b61409e818561407e565b93506140ae8185602086016128be565b80840191505092915050565b60006140c68284614089565b915081905092915050565b60006140dc826128a2565b6140e68185612f34565b93506140f68185602086016128be565b6140ff816126b8565b840191505092915050565b6000602082019050818103600083015261412481846140d1565b90509291505056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a2646970667358221220493904f65242d54c896d09e316466a46b9891d96b42ca686cc7bfd674527b2ce64736f6c63430008130033";

// Encode deployment
const deployerInterface = new ethers.utils.Interface(CreateCallAbi);
const deployCallData = deployerInterface.encodeFunctionData("performCreate", [
    0,
    bytecode,
]);

const ethAdapter = new EthersAdapter({
    ethers,
    signerOrProvider: deployerSigner,
});
const safeService = new SafeApiKit.default({
    txServiceUrl: "https://safe-transaction-goerli.safe.global",
    ethAdapter,
});

const txData = {
    to: process.env.CREATECALL_CONTRACT_ADDRESS,
    value: "0",
    data: deployCallData,
};
const safeSdk = await Safe.default.create({
    ethAdapter: ethAdapter,
    safeAddress: SAFE_ADDRESS,
});
const safeTx = await safeSdk.createTransaction({
    safeTransactionData: txData,
});
const safeTxHash = await safeSdk.getTransactionHash(safeTx);

const signature = await safeSdk.signTypedData(safeTx);
console.log("txn hash", safeTxHash);

const transactionConfig = {
    safeAddress: SAFE_ADDRESS,
    safeTransactionData: safeTx.data,
    safeTxHash: safeTxHash,
    senderAddress: process.env.SENDER_ADDRESS,
    senderSignature: signature.data,
};

await safeService.proposeTransaction(transactionConfig);