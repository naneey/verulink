import * as dotenv from "dotenv";
import { ethers, Wallet } from "ethers";
import Safe, { SafeFactory } from "@safe-global/protocol-kit";
import { EthersAdapter } from "@safe-global/protocol-kit";
import SafeApiKit from "@safe-global/api-kit";
import {CreateCallAbi} from "../ABI/ABI.js";

dotenv.config();

const SAFE_ADDRESS = process.env.SAFE_ADDRESS;
const provider = new ethers.providers.JsonRpcProvider(
    "https://eth-goerli.g.alchemy.com/v2/fLCeKO4GA9Gc3js8MUt9Djy7WHCFxATq"
);
const deployerSigner = new ethers.Wallet(process.env.secret_key1, provider);
const bytecode = "0x60a06040523073ffffffffffffffffffffffffffffffffffffffff1660809073ffffffffffffffffffffffffffffffffffffffff1681525034801561004357600080fd5b5060805161420861007b6000396000818161054f015281816105dd01528181610965015281816109f30152610aa301526142086000f3fe60806040526004361061011f5760003560e01c806368c4ac26116100a0578063a01ef25f11610064578063a01ef25f146103b6578063dbce7872146103df578063e47d606014610408578063f2fde38b14610445578063f6ef3a4c1461046e5761011f565b806368c4ac26146102cb5780637104ddb21461030d578063853ff577146103395780638da5cb5b146103625780639936077e1461038d5761011f565b80634a49ac4c116100e75780634a49ac4c146102075780634e70b1dc146102305780634f1ef2861461025b57806352d1902d146102775780635fa7b584146102a25761011f565b806301bf652c14610124578063240028e81461013b5780633659cfe61461017857806340ab5992146101a1578063417c73a7146101de575b600080fd5b34801561013057600080fd5b50610139610497565b005b34801561014757600080fd5b50610162600480360381019061015d9190612616565b6104b3565b60405161016f919061265e565b60405180910390f35b34801561018457600080fd5b5061019f600480360381019061019a9190612616565b61054d565b005b3480156101ad57600080fd5b506101c860048036038101906101c391906126af565b6106d5565b6040516101d5919061265e565b60405180910390f35b3480156101ea57600080fd5b5061020560048036038101906102009190612616565b610727565b005b34801561021357600080fd5b5061022e60048036038101906102299190612616565b610846565b005b34801561023c57600080fd5b5061024561095d565b60405161025291906126fe565b60405180910390f35b6102756004803603810190610270919061285f565b610963565b005b34801561028357600080fd5b5061028c610a9f565b60405161029991906128d4565b60405180910390f35b3480156102ae57600080fd5b506102c960048036038101906102c49190612616565b610b58565b005b3480156102d757600080fd5b506102f260048036038101906102ed9190612616565b610cfc565b604051610304969594939291906129c9565b60405180910390f35b34801561031957600080fd5b50610322610eb1565b604051610330929190612a38565b60405180910390f35b34801561034557600080fd5b50610360600480360381019061035b9190612b02565b610ee3565b005b34801561036e57600080fd5b50610377611137565b6040516103849190612bc7565b60405180910390f35b34801561039957600080fd5b506103b460048036038101906103af9190612c20565b61115b565b005b3480156103c257600080fd5b506103dd60048036038101906103d89190612c4d565b61122d565b005b3480156103eb57600080fd5b5061040660048036038101906104019190612eb0565b611479565b005b34801561041457600080fd5b5061042f600480360381019061042a9190612616565b6117b3565b60405161043c919061265e565b60405180910390f35b34801561045157600080fd5b5061046c60048036038101906104679190612616565b61194f565b005b34801561047a57600080fd5b5061049560048036038101906104909190612ef9565b611a20565b005b6002600660008282546104aa9190612fab565b92505081905550565b60008173ffffffffffffffffffffffffffffffffffffffff16600460008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16149050919050565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff16036105db576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105d290613070565b60405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1661061a611e23565b73ffffffffffffffffffffffffffffffffffffffff1614610670576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161066790613102565b60405180910390fd5b61067981611e7a565b6106d281600067ffffffffffffffff81111561069857610697612734565b5b6040519080825280601f01601f1916602001820160405280156106ca5781602001600182028036833780820191505090505b506000611e89565b50565b600081600460008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206001016000015414905092915050565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146107b5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107ac9061316e565b60405180910390fd5b7ff4b7ec55a49ac1da7e692ab86df6fbd4f88d5106cb8fec0e074dc795e4f628df816040516107e49190612bc7565b60405180910390a160018060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146108d4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108cb9061316e565b60405180910390fd5b7f2b7660b9783fc5217982251aa2052ee8b0ffb8b409bd74b84b2a08e8a92316e0816040516109039190612bc7565b60405180910390a1600160008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81549060ff021916905550565b60065481565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff16036109f1576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109e890613070565b60405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16610a30611e23565b73ffffffffffffffffffffffffffffffffffffffff1614610a86576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a7d90613102565b60405180910390fd5b610a8f82611e7a565b610a9b82826001611e89565b5050565b60007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff1614610b2f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b2690613200565b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b905090565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610be6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610bdd9061316e565b60405180910390fd5b610bef816104b3565b610c2e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c259061326c565b60405180910390fd5b600460008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600080820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905560018201600080820160009055600182016000610cb29190612494565b505060038201600080820160009055600182016000610cd19190612494565b5050600582016000905560068201600090556007820160006101000a81549060ff0219169055505050565b60046020528060005260406000206000915090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010160405180604001604052908160008201548152602001600182018054610d5f906132bb565b80601f0160208091040260200160405190810160405280929190818152602001828054610d8b906132bb565b8015610dd85780601f10610dad57610100808354040283529160200191610dd8565b820191906000526020600020905b815481529060010190602001808311610dbb57829003601f168201915b505050505081525050908060030160405180604001604052908160008201548152602001600182018054610e0b906132bb565b80601f0160208091040260200160405190810160405280929190818152602001828054610e37906132bb565b8015610e845780601f10610e5957610100808354040283529160200191610e84565b820191906000526020600020905b815481529060010190602001808311610e6757829003601f168201915b505050505081525050908060050154908060060154908060070160009054906101000a900460ff16905086565b60088060000154908060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905082565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610f71576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f689061316e565b60405180910390fd5b60006040518060c001604052808873ffffffffffffffffffffffffffffffffffffffff1681526020016040518060400160405280898152602001888152508152602001604051806040016040528089815260200187815250815260200184815260200183815260200160011515815250905080600460008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001016000820151816000015560208201518160010190816110929190613498565b5050506040820151816003016000820151816000015560208201518160010190816110bd9190613498565b505050606082015181600501556080820151816006015560a08201518160070160006101000a81548160ff0219169083151502179055509050507f839d02d0583fa574baa39f4bf41414bcf8067610ab83752241f1fa78a3051553816040516111269190613655565b60405180910390a150505050505050565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146111e9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016111e09061316e565b60405180910390fd5b80600760006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60008060159054906101000a900460ff1615905080801561126057506001600060149054906101000a900460ff1660ff16105b8061128f575061126f30611ff7565b15801561128e57506001600060149054906101000a900460ff1660ff16145b5b6112ce576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016112c5906136e9565b60405180910390fd5b6001600060146101000a81548160ff021916908360ff160217905550801561130c576001600060156101000a81548160ff0219169083151502179055505b816000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555085600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060405180604001604052808681526020013073ffffffffffffffffffffffffffffffffffffffff1681525060086000820151816000015560208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550905050611418848461201a565b80156114715760008060156101000a81548160ff0219169083151502179055507f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb384740249860016040516114689190613751565b60405180910390a15b505050505050565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663f96f8b63826040518263ffffffff1660e01b81526004016114d49190613868565b6000604051808303816000875af11580156114f3573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f8201168201806040525081019061151c9190613b02565b503073ffffffffffffffffffffffffffffffffffffffff1681606001516020015173ffffffffffffffffffffffffffffffffffffffff1614611593576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161158a90613bbd565b60405180910390fd5b60008160800151604001519050600082608001516000015190506115b6816104b3565b6115f5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016115ec9061326c565b60405180910390fd5b6115fe826117b3565b15611738578073ffffffffffffffffffffffffffffffffffffffff1663a9059cbb600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff168560800151602001516040518363ffffffff1660e01b8152600401611668929190613bdd565b600060405180830381600087803b15801561168257600080fd5b505af1158015611696573d6000803e3d6000fd5b50505050600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16637750c9f083838660800151602001516040518463ffffffff1660e01b815260040161170193929190613c06565b600060405180830381600087803b15801561171b57600080fd5b505af115801561172f573d6000803e3d6000fd5b505050506117ae565b8073ffffffffffffffffffffffffffffffffffffffff1663a9059cbb838560800151602001516040518363ffffffff1660e01b815260040161177b929190613bdd565b600060405180830381600087803b15801561179557600080fd5b505af11580156117a9573d6000803e3d6000fd5b505050505b505050565b6000600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16806118a55750600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663fe575a87836040518263ffffffff1660e01b81526004016118639190612bc7565b602060405180830381865afa158015611880573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906118a49190613c69565b5b806119485750600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166359bf1abe836040518263ffffffff1660e01b81526004016119069190612bc7565b602060405180830381865afa158015611923573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906119479190613c69565b5b9050919050565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146119dd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016119d49061316e565b60405180910390fd5b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b611a29336117b3565b15611a69576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a6090613ce2565b60405180910390fd5b611a7384826106d5565b611ab2576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611aa990613d4e565b60405180910390fd5b8373ffffffffffffffffffffffffffffffffffffffff166323b872dd3330866040518463ffffffff1660e01b8152600401611aef93929190613c06565b600060405180830381600087803b158015611b0957600080fd5b505af1158015611b1d573d6000803e3d6000fd5b5050505060006040518060600160405280600460008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206001016001018054611b7e906132bb565b80601f0160208091040260200160405190810160405280929190818152602001828054611baa906132bb565b8015611bf75780601f10611bcc57610100808354040283529160200191611bf7565b820191906000526020600020905b815481529060010190602001808311611bda57829003601f168201915b50505050508152602001858152602001848152509050611c156124d4565b6008604051806040016040529081600082015481526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815250508160400181905250600460008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060030160405180604001604052908160008201548152602001600182018054611cf1906132bb565b80601f0160208091040260200160405190810160405280929190818152602001828054611d1d906132bb565b8015611d6a5780601f10611d3f57610100808354040283529160200191611d6a565b820191906000526020600020905b815481529060010190602001808311611d4d57829003601f168201915b5050505050815250508160600181905250818160800181905250438160a0018181525050600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16634bc2ea7d826040518263ffffffff1660e01b8152600401611de99190613e55565b600060405180830381600087803b158015611e0357600080fd5b505af1158015611e17573d6000803e3d6000fd5b50505050505050505050565b6000611e517f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b6121d9565b60000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b60008054906101000a90505050565b611eb57f4910fdfa16fed3260ed0e7147f7cc6da11a60208b5b9406d12a635614ffd914360001b6121e3565b60000160009054906101000a900460ff1615611ed957611ed4836121ed565b611ff2565b8273ffffffffffffffffffffffffffffffffffffffff166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa925050508015611f4157506040513d601f19601f82011682018060405250810190611f3e9190613ea3565b60015b611f80576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611f7790613f42565b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b8114611fe5576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611fdc90613fd4565b60405180910390fd5b50611ff18383836122a6565b5b505050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b60008060159054906101000a900460ff1615905080801561204d57506001600060149054906101000a900460ff1660ff16105b8061207c575061205c30611ff7565b15801561207b57506001600060149054906101000a900460ff1660ff16145b5b6120bb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016120b2906136e9565b60405180910390fd5b6001600060146101000a81548160ff021916908360ff16021790555080156120f9576001600060156101000a81548160ff0219169083151502179055505b82600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080156121d45760008060156101000a81548160ff0219169083151502179055507f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb384740249860016040516121cb9190613751565b60405180910390a15b505050565b6000819050919050565b6000819050919050565b6121f681611ff7565b612235576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161222c90614066565b60405180910390fd5b806122627f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b6121d9565b60000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6122af836122d2565b6000825111806122bc5750805b156122cd576122cb8383612321565b505b505050565b6122db816121ed565b8073ffffffffffffffffffffffffffffffffffffffff167fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b60405160405180910390a250565b606061234683836040518060600160405280602781526020016141ac6027913961234e565b905092915050565b606061235984611ff7565b801561236b575061236933611ff7565b155b6123aa576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016123a1906140d2565b60405180910390fd5b6000808573ffffffffffffffffffffffffffffffffffffffff16856040516123d29190614139565b600060405180830381855af49150503d806000811461240d576040519150601f19603f3d011682016040523d82523d6000602084013e612412565b606091505b509150915061242282828661242d565b925050509392505050565b6060831561243d5782905061248d565b6000835111156124505782518084602001fd5b816040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016124849190614189565b60405180910390fd5b9392505050565b5080546124a0906132bb565b6000825580601f106124b257506124d1565b601f0160209004906000526020600020908101906124d0919061251c565b5b50565b6040518060c0016040528060008152602001600081526020016124f5612539565b8152602001612502612569565b815260200161250f612583565b8152602001600081525090565b5b8082111561253557600081600090555060010161251d565b5090565b604051806040016040528060008152602001600073ffffffffffffffffffffffffffffffffffffffff1681525090565b604051806040016040528060008152602001606081525090565b60405180606001604052806060815260200160008152602001606081525090565b6000604051905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006125e3826125b8565b9050919050565b6125f3816125d8565b81146125fe57600080fd5b50565b600081359050612610816125ea565b92915050565b60006020828403121561262c5761262b6125ae565b5b600061263a84828501612601565b91505092915050565b60008115159050919050565b61265881612643565b82525050565b6000602082019050612673600083018461264f565b92915050565b6000819050919050565b61268c81612679565b811461269757600080fd5b50565b6000813590506126a981612683565b92915050565b600080604083850312156126c6576126c56125ae565b5b60006126d485828601612601565b92505060206126e58582860161269a565b9150509250929050565b6126f881612679565b82525050565b600060208201905061271360008301846126ef565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61276c82612723565b810181811067ffffffffffffffff8211171561278b5761278a612734565b5b80604052505050565b600061279e6125a4565b90506127aa8282612763565b919050565b600067ffffffffffffffff8211156127ca576127c9612734565b5b6127d382612723565b9050602081019050919050565b82818337600083830152505050565b60006128026127fd846127af565b612794565b90508281526020810184848401111561281e5761281d61271e565b5b6128298482856127e0565b509392505050565b600082601f83011261284657612845612719565b5b81356128568482602086016127ef565b91505092915050565b60008060408385031215612876576128756125ae565b5b600061288485828601612601565b925050602083013567ffffffffffffffff8111156128a5576128a46125b3565b5b6128b185828601612831565b9150509250929050565b6000819050919050565b6128ce816128bb565b82525050565b60006020820190506128e960008301846128c5565b92915050565b6128f8816125d8565b82525050565b61290781612679565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b8381101561294757808201518184015260208101905061292c565b60008484015250505050565b600061295e8261290d565b6129688185612918565b9350612978818560208601612929565b61298181612723565b840191505092915050565b60006040830160008301516129a460008601826128fe565b50602083015184820360208601526129bc8282612953565b9150508091505092915050565b600060c0820190506129de60008301896128ef565b81810360208301526129f0818861298c565b90508181036040830152612a04818761298c565b9050612a1360608301866126ef565b612a2060808301856126ef565b612a2d60a083018461264f565b979650505050505050565b6000604082019050612a4d60008301856126ef565b612a5a60208301846128ef565b9392505050565b600067ffffffffffffffff821115612a7c57612a7b612734565b5b612a8582612723565b9050602081019050919050565b6000612aa5612aa084612a61565b612794565b905082815260208101848484011115612ac157612ac061271e565b5b612acc8482856127e0565b509392505050565b600082601f830112612ae957612ae8612719565b5b8135612af9848260208601612a92565b91505092915050565b60008060008060008060c08789031215612b1f57612b1e6125ae565b5b6000612b2d89828a01612601565b9650506020612b3e89828a0161269a565b955050604087013567ffffffffffffffff811115612b5f57612b5e6125b3565b5b612b6b89828a01612ad4565b945050606087013567ffffffffffffffff811115612b8c57612b8b6125b3565b5b612b9889828a01612ad4565b9350506080612ba989828a0161269a565b92505060a0612bba89828a0161269a565b9150509295509295509295565b6000602082019050612bdc60008301846128ef565b92915050565b6000612bed826125d8565b9050919050565b612bfd81612be2565b8114612c0857600080fd5b50565b600081359050612c1a81612bf4565b92915050565b600060208284031215612c3657612c356125ae565b5b6000612c4484828501612c0b565b91505092915050565b600080600080600060a08688031215612c6957612c686125ae565b5b6000612c7788828901612601565b9550506020612c888882890161269a565b9450506040612c9988828901612601565b9350506060612caa88828901612601565b9250506080612cbb88828901612601565b9150509295509295909350565b600080fd5b600080fd5b600060408284031215612ce857612ce7612cc8565b5b612cf26040612794565b90506000612d028482850161269a565b600083015250602082013567ffffffffffffffff811115612d2657612d25612ccd565b5b612d3284828501612ad4565b60208301525092915050565b600060408284031215612d5457612d53612cc8565b5b612d5e6040612794565b90506000612d6e8482850161269a565b6000830152506020612d8284828501612601565b60208301525092915050565b600060608284031215612da457612da3612cc8565b5b612dae6060612794565b90506000612dbe84828501612601565b6000830152506020612dd28482850161269a565b6020830152506040612de684828501612601565b60408301525092915050565b60006101208284031215612e0957612e08612cc8565b5b612e1360c0612794565b90506000612e238482850161269a565b6000830152506020612e378482850161269a565b602083015250604082013567ffffffffffffffff811115612e5b57612e5a612ccd565b5b612e6784828501612cd2565b6040830152506060612e7b84828501612d3e565b60608301525060a0612e8f84828501612d8e565b608083015250610100612ea48482850161269a565b60a08301525092915050565b600060208284031215612ec657612ec56125ae565b5b600082013567ffffffffffffffff811115612ee457612ee36125b3565b5b612ef084828501612df2565b91505092915050565b60008060008060808587031215612f1357612f126125ae565b5b6000612f2187828801612601565b9450506020612f328782880161269a565b935050604085013567ffffffffffffffff811115612f5357612f526125b3565b5b612f5f87828801612ad4565b9250506060612f708782880161269a565b91505092959194509250565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000612fb682612679565b9150612fc183612679565b9250828202612fcf81612679565b91508282048414831517612fe657612fe5612f7c565b5b5092915050565b600082825260208201905092915050565b7f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060008201527f64656c656761746563616c6c0000000000000000000000000000000000000000602082015250565b600061305a602c83612fed565b915061306582612ffe565b604082019050919050565b600060208201905081810360008301526130898161304d565b9050919050565b7f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060008201527f6163746976652070726f78790000000000000000000000000000000000000000602082015250565b60006130ec602c83612fed565b91506130f782613090565b604082019050919050565b6000602082019050818103600083015261311b816130df565b9050919050565b7f4e6f74206f776e65720000000000000000000000000000000000000000000000600082015250565b6000613158600983612fed565b915061316382613122565b602082019050919050565b600060208201905081810360008301526131878161314b565b9050919050565b7f555550535570677261646561626c653a206d757374206e6f742062652063616c60008201527f6c6564207468726f7567682064656c656761746563616c6c0000000000000000602082015250565b60006131ea603883612fed565b91506131f58261318e565b604082019050919050565b60006020820190508181036000830152613219816131dd565b9050919050565b7f546f6b656e206e6f7420737570706f7274656400000000000000000000000000600082015250565b6000613256601383612fed565b915061326182613220565b602082019050919050565b6000602082019050818103600083015261328581613249565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806132d357607f821691505b6020821081036132e6576132e561328c565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b60006008830261334e7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82613311565b6133588683613311565b95508019841693508086168417925050509392505050565b6000819050919050565b600061339561339061338b84612679565b613370565b612679565b9050919050565b6000819050919050565b6133af8361337a565b6133c36133bb8261339c565b84845461331e565b825550505050565b600090565b6133d86133cb565b6133e38184846133a6565b505050565b5b81811015613407576133fc6000826133d0565b6001810190506133e9565b5050565b601f82111561344c5761341d816132ec565b61342684613301565b81016020851015613435578190505b61344961344185613301565b8301826133e8565b50505b505050565b600082821c905092915050565b600061346f60001984600802613451565b1980831691505092915050565b6000613488838361345e565b9150826002028217905092915050565b6134a18261290d565b67ffffffffffffffff8111156134ba576134b9612734565b5b6134c482546132bb565b6134cf82828561340b565b600060209050601f83116001811461350257600084156134f0578287015190505b6134fa858261347c565b865550613562565b601f198416613510866132ec565b60005b8281101561353857848901518255600182019150602085019450602081019050613513565b868310156135555784890151613551601f89168261345e565b8355505b6001600288020188555050505b505050505050565b613573816125d8565b82525050565b600060408301600083015161359160008601826128fe565b50602083015184820360208601526135a98282612953565b9150508091505092915050565b6135bf81612643565b82525050565b600060c0830160008301516135dd600086018261356a565b50602083015184820360208601526135f58282613579565b9150506040830151848203604086015261360f8282613579565b915050606083015161362460608601826128fe565b50608083015161363760808601826128fe565b5060a083015161364a60a08601826135b6565b508091505092915050565b6000602082019050818103600083015261366f81846135c5565b905092915050565b7f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160008201527f647920696e697469616c697a6564000000000000000000000000000000000000602082015250565b60006136d3602e83612fed565b91506136de82613677565b604082019050919050565b60006020820190508181036000830152613702816136c6565b9050919050565b6000819050919050565b600060ff82169050919050565b600061373b61373661373184613709565b613370565b613713565b9050919050565b61374b81613720565b82525050565b60006020820190506137666000830184613742565b92915050565b60408201600082015161378260008501826128fe565b506020820151613795602085018261356a565b50505050565b6060820160008201516137b1600085018261356a565b5060208201516137c460208501826128fe565b5060408201516137d7604085018261356a565b50505050565b6000610120830160008301516137f660008601826128fe565b50602083015161380960208601826128fe565b50604083015184820360408601526138218282613579565b9150506060830151613836606086018261376c565b50608083015161384960a086018261379b565b5060a083015161385d6101008601826128fe565b508091505092915050565b6000602082019050818103600083015261388281846137dd565b905092915050565b60008151905061389981612683565b92915050565b60006138b26138ad84612a61565b612794565b9050828152602081018484840111156138ce576138cd61271e565b5b6138d9848285612929565b509392505050565b600082601f8301126138f6576138f5612719565b5b815161390684826020860161389f565b91505092915050565b60006040828403121561392557613924612cc8565b5b61392f6040612794565b9050600061393f8482850161388a565b600083015250602082015167ffffffffffffffff81111561396357613962612ccd565b5b61396f848285016138e1565b60208301525092915050565b60008151905061398a816125ea565b92915050565b6000604082840312156139a6576139a5612cc8565b5b6139b06040612794565b905060006139c08482850161388a565b60008301525060206139d48482850161397b565b60208301525092915050565b6000606082840312156139f6576139f5612cc8565b5b613a006060612794565b90506000613a108482850161397b565b6000830152506020613a248482850161388a565b6020830152506040613a388482850161397b565b60408301525092915050565b60006101208284031215613a5b57613a5a612cc8565b5b613a6560c0612794565b90506000613a758482850161388a565b6000830152506020613a898482850161388a565b602083015250604082015167ffffffffffffffff811115613aad57613aac612ccd565b5b613ab98482850161390f565b6040830152506060613acd84828501613990565b60608301525060a0613ae1848285016139e0565b608083015250610100613af68482850161388a565b60a08301525092915050565b600060208284031215613b1857613b176125ae565b5b600082015167ffffffffffffffff811115613b3657613b356125b3565b5b613b4284828501613a44565b91505092915050565b7f5061636b6574206e6f7420696e74656e64656420666f72207468697320546f6b60008201527f656e205365727669636500000000000000000000000000000000000000000000602082015250565b6000613ba7602a83612fed565b9150613bb282613b4b565b604082019050919050565b60006020820190508181036000830152613bd681613b9a565b9050919050565b6000604082019050613bf260008301856128ef565b613bff60208301846126ef565b9392505050565b6000606082019050613c1b60008301866128ef565b613c2860208301856128ef565b613c3560408301846126ef565b949350505050565b613c4681612643565b8114613c5157600080fd5b50565b600081519050613c6381613c3d565b92915050565b600060208284031215613c7f57613c7e6125ae565b5b6000613c8d84828501613c54565b91505092915050565b7f53656e64657220426c61636b6c69737465640000000000000000000000000000600082015250565b6000613ccc601283612fed565b9150613cd782613c96565b602082019050919050565b60006020820190508181036000830152613cfb81613cbf565b9050919050565b7f556e6b6e6f776e20746f6b656e20416464726573730000000000000000000000600082015250565b6000613d38601583612fed565b9150613d4382613d02565b602082019050919050565b60006020820190508181036000830152613d6781613d2b565b9050919050565b60006060830160008301518482036000860152613d8b8282612953565b9150506020830151613da060208601826128fe565b5060408301518482036040860152613db88282612953565b9150508091505092915050565b600060e083016000830151613ddd60008601826128fe565b506020830151613df060208601826128fe565b506040830151613e03604086018261376c565b5060608301518482036080860152613e1b8282613579565b915050608083015184820360a0860152613e358282613d6e565b91505060a0830151613e4a60c08601826128fe565b508091505092915050565b60006020820190508181036000830152613e6f8184613dc5565b905092915050565b613e80816128bb565b8114613e8b57600080fd5b50565b600081519050613e9d81613e77565b92915050565b600060208284031215613eb957613eb86125ae565b5b6000613ec784828501613e8e565b91505092915050565b7f45524331393637557067726164653a206e657720696d706c656d656e7461746960008201527f6f6e206973206e6f742055555053000000000000000000000000000000000000602082015250565b6000613f2c602e83612fed565b9150613f3782613ed0565b604082019050919050565b60006020820190508181036000830152613f5b81613f1f565b9050919050565b7f45524331393637557067726164653a20756e737570706f727465642070726f7860008201527f6961626c65555549440000000000000000000000000000000000000000000000602082015250565b6000613fbe602983612fed565b9150613fc982613f62565b604082019050919050565b60006020820190508181036000830152613fed81613fb1565b9050919050565b7f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60008201527f6f74206120636f6e747261637400000000000000000000000000000000000000602082015250565b6000614050602d83612fed565b915061405b82613ff4565b604082019050919050565b6000602082019050818103600083015261407f81614043565b9050919050565b7f416464726573733a20696e76616c69642064656c65676174652063616c6c0000600082015250565b60006140bc601e83612fed565b91506140c782614086565b602082019050919050565b600060208201905081810360008301526140eb816140af565b9050919050565b600081519050919050565b600081905092915050565b6000614113826140f2565b61411d81856140fd565b935061412d818560208601612929565b80840191505092915050565b60006141458284614108565b915081905092915050565b600061415b8261290d565b6141658185612fed565b9350614175818560208601612929565b61417e81612723565b840191505092915050565b600060208201905081810360008301526141a38184614150565b90509291505056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a26469706673582212209df94eebbb444ddd7d56139849e616a5e31f06f7e1cf4a4de2f1cf476beb691a64736f6c63430008130033";

// const chainId = 100;
// const num = 12;
// const multisigAddr = "0x0e27875afe33Ea44a9720fE0D70b1Cb9dc57aCC2";
// const _data  = new ethers.utils.AbiCoder().encode(["uint","address", "uint"], [chainmultisigAddr]);

// Encode deployment
const deployerInterface = new ethers.utils.Interface(CreateCallAbi);
const deployCallData = deployerInterface.encodeFunctionData("performCreate", [
    0,
    bytecode,
]);

const ethAdapter = new EthersAdapter({
    ethers,
    signerOrProvider: deployerSigner,
});
const safeService = new SafeApiKit.default({
    txServiceUrl: "https://safe-transaction-goerli.safe.global",
    ethAdapter,
});

const txData = {
    to: process.env.CREATECALL_CONTRACT_ADDRESS,
    value: "0",
    data: deployCallData,
};
const safeSdk = await Safe.default.create({
    ethAdapter: ethAdapter,
    safeAddress: SAFE_ADDRESS,
});
const safeTx = await safeSdk.createTransaction({
    safeTransactionData: txData,
});
const safeTxHash = await safeSdk.getTransactionHash(safeTx);

const signature = await safeSdk.signTypedData(safeTx);
console.log("txn hash", safeTxHash);

const transactionConfig = {
    safeAddress: SAFE_ADDRESS,
    safeTransactionData: safeTx.data,
    safeTxHash: safeTxHash,
    senderAddress: process.env.SENDER_ADDRESS,
    senderSignature: signature.data,
};

await safeService.proposeTransaction(transactionConfig);