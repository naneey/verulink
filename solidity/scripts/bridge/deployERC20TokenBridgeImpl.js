import * as dotenv from "dotenv";
import { ethers, Wallet } from "ethers";
import Safe, { SafeFactory } from "@safe-global/protocol-kit";
import { EthersAdapter } from "@safe-global/protocol-kit";
import SafeApiKit from "@safe-global/api-kit";
import {CreateCallAbi} from "../ABI/ABI.js";
// import {abi} from "../../artifacts/contracts/ERC20TokenBridge.sol/ERC20TokenBridge.json";
// import hre from 'hardhat'; 
 // const hre = require("hardhat");
// // import "@nomicfoundation/hardhat-ethers";
// // import "@nomicfoundation/hardhat-toolbox";

dotenv.config();

const SAFE_ADDRESS = process.env.SAFE_ADDRESS;
const provider = new ethers.providers.JsonRpcProvider(
    "https://eth-goerli.g.alchemy.com/v2/fLCeKO4GA9Gc3js8MUt9Djy7WHCFxATq"
);
const deployerSigner = new ethers.Wallet(process.env.secret_key1, provider);
// const val = ethers.getContractFactory('ERC20TokenBridge');
// async function main(){
//     const mycontract = await hre.ethers.getContractFactory('ERC20TokenBridge');
//     console.log("mycontract: ", mycontract);
// }
// main()
//     .then(() => process.exit(0))
//     .catch((error) => {
//         console.error(error);
//         process.exit(1);
//     });

const bytecode = "0x60a06040523073ffffffffffffffffffffffffffffffffffffffff1660809073ffffffffffffffffffffffffffffffffffffffff1681525034801561004357600080fd5b50608051614a3a61007b60003960008181610c1301528181610ca101528181610e8101528181610f0f0152610fe20152614a3a6000f3fe6080604052600436106101cd5760003560e01c80637104ddb2116100f7578063c86a64f711610095578063ea6469f811610064578063ea6469f814610700578063f2fde38b14610729578063f78dd84d14610752578063f96f8b631461077b576101cd565b8063c86a64f714610648578063cbf50bb614610685578063da35a26f146106ae578063e16aa3c0146106d7576101cd565b8063aadc3b72116100d1578063aadc3b7214610568578063af83d4d8146105a5578063b8cc3eaa146105ce578063c0abe2fe1461060b576101cd565b80637104ddb2146104e85780638da5cb5b1461051457806391e8d2071461053f576101cd565b80634d7fc58e1161016f578063550325b51161013e578063550325b514610407578063555e9074146104455780635bec0d37146104825780636b3da26f146104ab576101cd565b80634d7fc58e146103465780634f1ef286146103835780635153d4671461039f57806352d1902d146103dc576101cd565b80632e2f4e24116101ab5780632e2f4e241461027a5780633659cfe6146102b7578063419eb411146102e05780634bc2ea7d1461031d576101cd565b806303d1d693146101d257806305cd5a361461020f578063188b533914610238575b600080fd5b3480156101de57600080fd5b506101f960048036038101906101f49190612a36565b6107a4565b6040516102069190612a8f565b60405180910390f35b34801561021b57600080fd5b5061023660048036038101906102319190612b08565b6107c9565b005b34801561024457600080fd5b5061025f600480360381019061025a9190612a36565b61092a565b60405161027196959493929190612cb5565b60405180910390f35b34801561028657600080fd5b506102a1600480360381019061029c9190612b08565b610bbb565b6040516102ae9190612d3f565b60405180910390f35b3480156102c357600080fd5b506102de60048036038101906102d99190612b08565b610c11565b005b3480156102ec57600080fd5b5061030760048036038101906103029190612a36565b610d99565b6040516103149190612a8f565b60405180910390f35b34801561032957600080fd5b50610344600480360381019061033f91906130c9565b610dc8565b005b34801561035257600080fd5b5061036d60048036038101906103689190612a36565b610e4a565b60405161037a9190612d3f565b60405180910390f35b61039d600480360381019061039891906131b3565b610e7f565b005b3480156103ab57600080fd5b506103c660048036038101906103c1919061320f565b610fbb565b6040516103d39190612d3f565b60405180910390f35b3480156103e857600080fd5b506103f1610fde565b6040516103fe9190612a8f565b60405180910390f35b34801561041357600080fd5b5061042e6004803603810190610429919061320f565b611097565b60405161043c929190613286565b60405180910390f35b34801561045157600080fd5b5061046c60048036038101906104679190612a36565b611143565b6040516104799190612a8f565b60405180910390f35b34801561048e57600080fd5b506104a960048036038101906104a491906134be565b611168565b005b3480156104b757600080fd5b506104d260048036038101906104cd9190612b08565b6111b6565b6040516104df9190612d3f565b60405180910390f35b3480156104f457600080fd5b506104fd61120c565b60405161050b929190613516565b60405180910390f35b34801561052057600080fd5b5061052961123e565b604051610536919061353f565b60405180910390f35b34801561054b57600080fd5b506105666004803603810190610561919061355a565b611264565b005b34801561057457600080fd5b5061058f600480360381019061058a91906135c6565b611396565b60405161059c9190612d3f565b60405180910390f35b3480156105b157600080fd5b506105cc60048036038101906105c79190613606565b6113fe565b005b3480156105da57600080fd5b506105f560048036038101906105f09190612a36565b61156f565b6040516106029190612d3f565b60405180910390f35b34801561061757600080fd5b50610632600480360381019061062d9190613662565b611577565b60405161063f9190612d3f565b60405180910390f35b34801561065457600080fd5b5061066f600480360381019061066a919061320f565b61159e565b60405161067c919061368f565b60405180910390f35b34801561069157600080fd5b506106ac60048036038101906106a7919061320f565b6115b6565b005b3480156106ba57600080fd5b506106d560048036038101906106d091906136aa565b6116f6565b005b3480156106e357600080fd5b506106fe60048036038101906106f991906136ea565b6118f6565b005b34801561070c57600080fd5b506107276004803603810190610722919061355a565b61190a565b005b34801561073557600080fd5b50610750600480360381019061074b9190612b08565b611aa5565b005b34801561075e57600080fd5b5061077960048036038101906107749190612b08565b611b79565b005b34801561078757600080fd5b506107a2600480360381019061079d91906136ea565b611d53565b005b600b602052816000526040600020602052806000526040600020600091509150505481565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610859576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108509061377f565b60405180910390fd5b610862816111b6565b6108a1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610898906137eb565b60405180910390fd5b600860008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81549060ff02191690557f18952ed4229327e2d83d53a06b823c2da3b19cb320c82017b8da5f60b6dfe8f08160405161091f919061353f565b60405180910390a150565b600d6020528160005260406000206020528060005260406000206000915091505080600001549080600101549080600201604051806040016040529081600082015481526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815250509080600401604051806040016040529081600082015481526020016001820180546109f09061383a565b80601f0160208091040260200160405190810160405280929190818152602001828054610a1c9061383a565b8015610a695780601f10610a3e57610100808354040283529160200191610a69565b820191906000526020600020905b815481529060010190602001808311610a4c57829003601f168201915b5050505050815250509080600601604051806060016040529081600082018054610a929061383a565b80601f0160208091040260200160405190810160405280929190818152602001828054610abe9061383a565b8015610b0b5780601f10610ae057610100808354040283529160200191610b0b565b820191906000526020600020905b815481529060010190602001808311610aee57829003601f168201915b5050505050815260200160018201548152602001600282018054610b2e9061383a565b80601f0160208091040260200160405190810160405280929190818152602001828054610b5a9061383a565b8015610ba75780601f10610b7c57610100808354040283529160200191610ba7565b820191906000526020600020905b815481529060010190602001808311610b8a57829003601f168201915b505050505081525050908060090154905086565b6000600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff169050919050565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff1603610c9f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c96906138dd565b60405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16610cde611e4e565b73ffffffffffffffffffffffffffffffffffffffff1614610d34576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d2b9061396f565b60405180910390fd5b610d3d81611ea5565b610d9681600067ffffffffffffffff811115610d5c57610d5b612d5f565b5b6040519080825280601f01601f191660200182016040528015610d8e5781602001600182028036833780820191505090505b506000611f02565b50565b6000600b6000848152602001908152602001600020600083815260200190815260200160002054905092915050565b610dd9816060015160000151612070565b6001816000018181525050610df581606001516000015161210c565b816020018181525050610e0781612154565b7ffd257db59eb300e45d6cf1474d6740c876dbeff48f3f77cd83a4e2df4463904881604051610e369190613ae2565b60405180910390a1610e4781612271565b50565b60008060001b600c60008581526020019081526020016000206000848152602001908152602001600020541415905092915050565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff1603610f0d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f04906138dd565b60405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16610f4c611e4e565b73ffffffffffffffffffffffffffffffffffffffff1614610fa2576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f999061396f565b60405180910390fd5b610fab82611ea5565b610fb782826001611f02565b5050565b600080600960008481526020019081526020016000206000015414159050919050565b60007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff161461106e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161106590613b76565b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b905090565b60096020528060005260406000206000915090508060000154908060010180546110c09061383a565b80601f01602080910402602001604051908101604052809291908181526020018280546110ec9061383a565b80156111395780601f1061110e57610100808354040283529160200191611139565b820191906000526020600020905b81548152906001019060200180831161111c57829003601f168201915b5050505050905082565b600c602052816000526040600020602052806000526040600020600091509150505481565b611170612274565b60005b81518110156111b25761119f82828151811061119257611191613b96565b5b60200260200101516122be565b80806111aa90613bf4565b915050611173565b5050565b6000600860008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff169050919050565b60008060000154908060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905082565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146112f4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016112eb9061377f565b60405180910390fd5b6112fd82610bbb565b1561139257600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81549060ff0219169055806007819055507f4d9baafb1aaa72b5de32bbdb949ea3d6be986b9989a747834d6470df6738352d8282604051611389929190613c3c565b60405180910390a15b5050565b60006003600084815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161461148e576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016114859061377f565b60405180910390fd5b61149782610fbb565b156114d7576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016114ce90613cb1565b60405180910390fd5b6040518060400160405280838152602001828152506009600084815260200190815260200160002060008201518160000155602082015181600101908161151e9190613e7d565b509050507f98d2ada6e8e6c16dc5c0cd7305c7ea2a5487d613218c7498c4b1ce5c8fbd452560096000848152602001908152602001600020604051611563919061404d565b60405180910390a15050565b600092915050565b60006115816122de565b600260008481526020019081526020016000205410159050919050565b60046020528060005260406000206000915090505481565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611646576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161163d9061377f565b60405180910390fd5b61164f81610fbb565b61168e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611685906140bb565b60405180910390fd5b600960008281526020019081526020016000206000808201600090556001820160006116ba919061298f565b50507f11a9d1a77f76361ed131c19b1dc5758504c51dbde2e49fc973a0ef9577ad13d5816040516116eb919061368f565b60405180910390a150565b6000600a60019054906101000a900460ff1615905080801561172a57506001600a60009054906101000a900460ff1660ff16105b806117595750611739306122e8565b15801561175857506001600a60009054906101000a900460ff1660ff16145b5b611798576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161178f9061414d565b60405180910390fd5b6001600a60006101000a81548160ff021916908360ff16021790555080156117d6576001600a60016101000a81548160ff0219169083151502179055505b81600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060405180604001604052808481526020013073ffffffffffffffffffffffffffffffffffffffff16815250600080820151816000015560208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555090505080156118f1576000600a60016101000a81548160ff0219169083151502179055507f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb384740249860016040516118e891906141b5565b60405180910390a15b505050565b6118fe612274565b611907816122be565b50565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161461199a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016119919061377f565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603611a09576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a009061421c565b60405180910390fd5b6001600660008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908315150217905550806007819055507f3048c9ea63a33da5ed9a73829970fa3c31e6a8b32bbc5747e24632f61c027e8e8282604051611a99929190613c3c565b60405180910390a15050565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611b35576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611b2c9061377f565b60405180910390fd5b80600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611c09576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611c009061377f565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603611c78576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611c6f9061421c565b60405180910390fd5b611c81816111b6565b15611cc1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611cb890614288565b60405180910390fd5b6001600860008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055507f94a4797e4c030e498da08bb8871d39298528d0f1269fba1da4363703331d58e981604051611d48919061353f565b60405180910390a150565b611d5c336111b6565b611d9b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611d92906137eb565b60405180910390fd5b6000611db38260600151600001518360200151610d99565b9050611dbe8261230b565b8114611dff576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611df6906142f4565b60405180910390fd5b611e0882612391565b611e1382600261239d565b7f636209b10d69c1917cd00a9dc825c2440aed804c54f2e9d9a3dddd2cf863c22381604051611e429190612a8f565b60405180910390a15050565b6000611e7c7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b6123ab565b60000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611eff57600080fd5b50565b611f2e7f4910fdfa16fed3260ed0e7147f7cc6da11a60208b5b9406d12a635614ffd914360001b6123b5565b60000160009054906101000a900460ff1615611f5257611f4d836123bf565b61206b565b8273ffffffffffffffffffffffffffffffffffffffff166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa925050508015611fba57506040513d601f19601f82011682018060405250810190611fb79190614329565b60015b611ff9576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611ff0906143c8565b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b811461205e576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016120559061445a565b60405180910390fd5b5061206a838383612478565b5b505050565b612079816124a4565b612082336111b6565b6120c1576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016120b8906137eb565b60405180910390fd5b6120ca81610fbb565b612109576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612100906144c6565b60405180910390fd5b50565b6000600160046000848152602001908152602001600020600082825461213291906144e6565b9250508190555060046000838152602001908152602001600020549050919050565b80600d6000836060015160000151815260200190815260200160002060008360200151815260200190815260200160002060008201518160000155602082015181600101556040820151816002016000820151816000015560208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505060608201518160040160008201518160000155602082015181600101908161221d9190613e7d565b505050608082015181600601600082015181600001908161223e9190613e7d565b5060208201518160010155604082015181600201908161225e9190613e7d565b50505060a0820151816009015590505050565b50565b61227d33610bbb565b6122bc576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016122b390614566565b60405180910390fd5b565b6122c781612391565b6122d281600161239d565b6122db816124a7565b50565b6000600754905090565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b6000816000015182602001518360400151600001518460400151602001518560600151600001518660600151602001518760800151600001518860800151602001518960800151604001518a60a001516040516020016123749a9998979695949392919061462b565b604051602081830303815290604052805190602001209050919050565b61239a816124aa565b50565b6123a7828261250c565b5050565b6000819050919050565b6000819050919050565b6123c8816122e8565b612407576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016123fe9061474d565b60405180910390fd5b806124347f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b6123ab565b60000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b61248183612577565b60008251118061248e5750805b1561249f5761249d83836125c6565b505b505050565b50565b50565b6124b3816125f3565b6124c98160600151600001518260200151610e4a565b15612509576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401612500906147b9565b60405180910390fd5b50565b61251682826125ff565b6002811415806125395750612537826060015160000151836020015161156f565b155b6125735761255382606001516000015183602001516127ba565b612572826060015160000151836020015161256d8561230b565b6127e6565b5b5050565b612580816123bf565b8073ffffffffffffffffffffffffffffffffffffffff167fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b60405160405180910390a250565b60606125eb83836040518060600160405280602781526020016149de60279139612814565b905092915050565b6125fc816128f3565b50565b61260982826128f6565b600181036127b657612627826040015160000151836020015161156f565b6127b65760006126368361230b565b90506126428133611396565b15612686577f0bcf2ea3c8b515fe50f169a4131ce2d2198afc8ec7d83a8658d7bcb0a5fbbe7781336040516126789291906147d9565b60405180910390a1506127b6565b7f0b2f654b7e608ce51a82ce8157e79c350ed670605e8985266ad89fc85060e74981336040516126b79291906147d9565b60405180910390a160016003600083815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908315150217905550600160026000838152602001908152602001600020600082825461274c91906144e6565b9250508190555061275c81611577565b61276657506127b6565b61277d8360400151600001518460200151836128fa565b7f6a682edff95435e4296456174cda6db4f55df7ffa152dd25b5eaa810d50803fe836040516127ac91906148cf565b60405180910390a1505b5050565b600b60008381526020019081526020016000206000828152602001908152602001600020600090555050565b80600c6000858152602001908152602001600020600084815260200190815260200160002081905550505050565b606061281f846122e8565b8015612831575061282f336122e8565b155b612870576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016128679061493d565b60405180910390fd5b6000808573ffffffffffffffffffffffffffffffffffffffff168560405161289891906149a4565b600060405180830381855af49150503d80600081146128d3576040519150601f19603f3d011682016040523d82523d6000602084013e6128d8565b606091505b50915091506128e8828286612928565b925050509392505050565b50565b5050565b80600b6000858152602001908152602001600020600084815260200190815260200160002081905550505050565b6060831561293857829050612988565b60008351111561294b5782518084602001fd5b816040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161297f91906149bb565b60405180910390fd5b9392505050565b50805461299b9061383a565b6000825580601f106129ad57506129cc565b601f0160209004906000526020600020908101906129cb91906129cf565b5b50565b5b808211156129e85760008160009055506001016129d0565b5090565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b612a1381612a00565b8114612a1e57600080fd5b50565b600081359050612a3081612a0a565b92915050565b60008060408385031215612a4d57612a4c6129f6565b5b6000612a5b85828601612a21565b9250506020612a6c85828601612a21565b9150509250929050565b6000819050919050565b612a8981612a76565b82525050565b6000602082019050612aa46000830184612a80565b92915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000612ad582612aaa565b9050919050565b612ae581612aca565b8114612af057600080fd5b50565b600081359050612b0281612adc565b92915050565b600060208284031215612b1e57612b1d6129f6565b5b6000612b2c84828501612af3565b91505092915050565b612b3e81612a00565b82525050565b612b4d81612a00565b82525050565b612b5c81612aca565b82525050565b604082016000820151612b786000850182612b44565b506020820151612b8b6020850182612b53565b50505050565b600081519050919050565b600082825260208201905092915050565b60005b83811015612bcb578082015181840152602081019050612bb0565b60008484015250505050565b6000601f19601f8301169050919050565b6000612bf382612b91565b612bfd8185612b9c565b9350612c0d818560208601612bad565b612c1681612bd7565b840191505092915050565b6000604083016000830151612c396000860182612b44565b5060208301518482036020860152612c518282612be8565b9150508091505092915050565b60006060830160008301518482036000860152612c7b8282612be8565b9150506020830151612c906020860182612b44565b5060408301518482036040860152612ca88282612be8565b9150508091505092915050565b600060e082019050612cca6000830189612b35565b612cd76020830188612b35565b612ce46040830187612b62565b8181036080830152612cf68186612c21565b905081810360a0830152612d0a8185612c5e565b9050612d1960c0830184612b35565b979650505050505050565b60008115159050919050565b612d3981612d24565b82525050565b6000602082019050612d546000830184612d30565b92915050565b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b612d9782612bd7565b810181811067ffffffffffffffff82111715612db657612db5612d5f565b5b80604052505050565b6000612dc96129ec565b9050612dd58282612d8e565b919050565b600080fd5b600060408284031215612df557612df4612d5a565b5b612dff6040612dbf565b90506000612e0f84828501612a21565b6000830152506020612e2384828501612af3565b60208301525092915050565b600080fd5b600080fd5b600067ffffffffffffffff821115612e5457612e53612d5f565b5b612e5d82612bd7565b9050602081019050919050565b82818337600083830152505050565b6000612e8c612e8784612e39565b612dbf565b905082815260208101848484011115612ea857612ea7612e34565b5b612eb3848285612e6a565b509392505050565b600082601f830112612ed057612ecf612e2f565b5b8135612ee0848260208601612e79565b91505092915050565b600060408284031215612eff57612efe612d5a565b5b612f096040612dbf565b90506000612f1984828501612a21565b600083015250602082013567ffffffffffffffff811115612f3d57612f3c612dda565b5b612f4984828501612ebb565b60208301525092915050565b600060608284031215612f6b57612f6a612d5a565b5b612f756060612dbf565b9050600082013567ffffffffffffffff811115612f9557612f94612dda565b5b612fa184828501612ebb565b6000830152506020612fb584828501612a21565b602083015250604082013567ffffffffffffffff811115612fd957612fd8612dda565b5b612fe584828501612ebb565b60408301525092915050565b600060e0828403121561300757613006612d5a565b5b61301160c0612dbf565b9050600061302184828501612a21565b600083015250602061303584828501612a21565b602083015250604061304984828501612ddf565b604083015250608082013567ffffffffffffffff81111561306d5761306c612dda565b5b61307984828501612ee9565b60608301525060a082013567ffffffffffffffff81111561309d5761309c612dda565b5b6130a984828501612f55565b60808301525060c06130bd84828501612a21565b60a08301525092915050565b6000602082840312156130df576130de6129f6565b5b600082013567ffffffffffffffff8111156130fd576130fc6129fb565b5b61310984828501612ff1565b91505092915050565b600067ffffffffffffffff82111561312d5761312c612d5f565b5b61313682612bd7565b9050602081019050919050565b600061315661315184613112565b612dbf565b90508281526020810184848401111561317257613171612e34565b5b61317d848285612e6a565b509392505050565b600082601f83011261319a57613199612e2f565b5b81356131aa848260208601613143565b91505092915050565b600080604083850312156131ca576131c96129f6565b5b60006131d885828601612af3565b925050602083013567ffffffffffffffff8111156131f9576131f86129fb565b5b61320585828601613185565b9150509250929050565b600060208284031215613225576132246129f6565b5b600061323384828501612a21565b91505092915050565b600082825260208201905092915050565b600061325882612b91565b613262818561323c565b9350613272818560208601612bad565b61327b81612bd7565b840191505092915050565b600060408201905061329b6000830185612b35565b81810360208301526132ad818461324d565b90509392505050565b600067ffffffffffffffff8211156132d1576132d0612d5f565b5b602082029050602081019050919050565b600080fd5b6000606082840312156132fd576132fc612d5a565b5b6133076060612dbf565b9050600061331784828501612af3565b600083015250602061332b84828501612a21565b602083015250604061333f84828501612af3565b60408301525092915050565b6000610120828403121561336257613361612d5a565b5b61336c60c0612dbf565b9050600061337c84828501612a21565b600083015250602061339084828501612a21565b602083015250604082013567ffffffffffffffff8111156133b4576133b3612dda565b5b6133c084828501612ee9565b60408301525060606133d484828501612ddf565b60608301525060a06133e8848285016132e7565b6080830152506101006133fd84828501612a21565b60a08301525092915050565b600061341c613417846132b6565b612dbf565b9050808382526020820190506020840283018581111561343f5761343e6132e2565b5b835b8181101561348657803567ffffffffffffffff81111561346457613463612e2f565b5b808601613471898261334b565b85526020850194505050602081019050613441565b5050509392505050565b600082601f8301126134a5576134a4612e2f565b5b81356134b5848260208601613409565b91505092915050565b6000602082840312156134d4576134d36129f6565b5b600082013567ffffffffffffffff8111156134f2576134f16129fb565b5b6134fe84828501613490565b91505092915050565b61351081612aca565b82525050565b600060408201905061352b6000830185612b35565b6135386020830184613507565b9392505050565b60006020820190506135546000830184613507565b92915050565b60008060408385031215613571576135706129f6565b5b600061357f85828601612af3565b925050602061359085828601612a21565b9150509250929050565b6135a381612a76565b81146135ae57600080fd5b50565b6000813590506135c08161359a565b92915050565b600080604083850312156135dd576135dc6129f6565b5b60006135eb858286016135b1565b92505060206135fc85828601612af3565b9150509250929050565b6000806040838503121561361d5761361c6129f6565b5b600061362b85828601612a21565b925050602083013567ffffffffffffffff81111561364c5761364b6129fb565b5b61365885828601612ebb565b9150509250929050565b600060208284031215613678576136776129f6565b5b6000613686848285016135b1565b91505092915050565b60006020820190506136a46000830184612b35565b92915050565b600080604083850312156136c1576136c06129f6565b5b60006136cf85828601612a21565b92505060206136e085828601612af3565b9150509250929050565b600060208284031215613700576136ff6129f6565b5b600082013567ffffffffffffffff81111561371e5761371d6129fb565b5b61372a8482850161334b565b91505092915050565b7f4e6f74206f776e65720000000000000000000000000000000000000000000000600082015250565b600061376960098361323c565b915061377482613733565b602082019050919050565b600060208201905081810360008301526137988161375c565b9050919050565b7f556e6b6e6f776e20546f6b656e20536572766963650000000000000000000000600082015250565b60006137d560158361323c565b91506137e08261379f565b602082019050919050565b60006020820190508181036000830152613804816137c8565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061385257607f821691505b6020821081036138655761386461380b565b5b50919050565b7f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060008201527f64656c656761746563616c6c0000000000000000000000000000000000000000602082015250565b60006138c7602c8361323c565b91506138d28261386b565b604082019050919050565b600060208201905081810360008301526138f6816138ba565b9050919050565b7f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060008201527f6163746976652070726f78790000000000000000000000000000000000000000602082015250565b6000613959602c8361323c565b9150613964826138fd565b604082019050919050565b600060208201905081810360008301526139888161394c565b9050919050565b6040820160008201516139a56000850182612b44565b5060208201516139b86020850182612b53565b50505050565b60006040830160008301516139d66000860182612b44565b50602083015184820360208601526139ee8282612be8565b9150508091505092915050565b60006060830160008301518482036000860152613a188282612be8565b9150506020830151613a2d6020860182612b44565b5060408301518482036040860152613a458282612be8565b9150508091505092915050565b600060e083016000830151613a6a6000860182612b44565b506020830151613a7d6020860182612b44565b506040830151613a90604086018261398f565b5060608301518482036080860152613aa882826139be565b915050608083015184820360a0860152613ac282826139fb565b91505060a0830151613ad760c0860182612b44565b508091505092915050565b60006020820190508181036000830152613afc8184613a52565b905092915050565b7f555550535570677261646561626c653a206d757374206e6f742062652063616c60008201527f6c6564207468726f7567682064656c656761746563616c6c0000000000000000602082015250565b6000613b6060388361323c565b9150613b6b82613b04565b604082019050919050565b60006020820190508181036000830152613b8f81613b53565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000613bff82612a00565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203613c3157613c30613bc5565b5b600182019050919050565b6000604082019050613c516000830185613507565b613c5e6020830184612b35565b9392505050565b7f436861696e20616c726561647920737570706f72746564000000000000000000600082015250565b6000613c9b60178361323c565b9150613ca682613c65565b602082019050919050565b60006020820190508181036000830152613cca81613c8e565b9050919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302613d337fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82613cf6565b613d3d8683613cf6565b95508019841693508086168417925050509392505050565b6000819050919050565b6000613d7a613d75613d7084612a00565b613d55565b612a00565b9050919050565b6000819050919050565b613d9483613d5f565b613da8613da082613d81565b848454613d03565b825550505050565b600090565b613dbd613db0565b613dc8818484613d8b565b505050565b5b81811015613dec57613de1600082613db5565b600181019050613dce565b5050565b601f821115613e3157613e0281613cd1565b613e0b84613ce6565b81016020851015613e1a578190505b613e2e613e2685613ce6565b830182613dcd565b50505b505050565b600082821c905092915050565b6000613e5460001984600802613e36565b1980831691505092915050565b6000613e6d8383613e43565b9150826002028217905092915050565b613e8682612b91565b67ffffffffffffffff811115613e9f57613e9e612d5f565b5b613ea9825461383a565b613eb4828285613df0565b600060209050601f831160018114613ee75760008415613ed5578287015190505b613edf8582613e61565b865550613f47565b601f198416613ef586613cd1565b60005b82811015613f1d57848901518255600182019150602085019450602081019050613ef8565b86831015613f3a5784890151613f36601f891682613e43565b8355505b6001600288020188555050505b505050505050565b60008160001c9050919050565b6000819050919050565b6000613f79613f7483613f4f565b613f5c565b9050919050565b60008154613f8d8161383a565b613f978186612b9c565b94506001821660008114613fb25760018114613fc857613ffb565b60ff198316865281151560200286019350613ffb565b613fd185613cd1565b60005b83811015613ff357815481890152600182019150602081019050613fd4565b808801955050505b50505092915050565b600060408301600080840154905061401b81613f66565b6140286000870182612b44565b5060018401858303602087015261403f8382613f80565b925050819250505092915050565b600060208201905081810360008301526140678184614004565b905092915050565b7f556e6b6e6f776e20636861696e49640000000000000000000000000000000000600082015250565b60006140a5600f8361323c565b91506140b08261406f565b602082019050919050565b600060208201905081810360008301526140d481614098565b9050919050565b7f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160008201527f647920696e697469616c697a6564000000000000000000000000000000000000602082015250565b6000614137602e8361323c565b9150614142826140db565b604082019050919050565b600060208201905081810360008301526141668161412a565b9050919050565b6000819050919050565b600060ff82169050919050565b600061419f61419a6141958461416d565b613d55565b614177565b9050919050565b6141af81614184565b82525050565b60006020820190506141ca60008301846141a6565b92915050565b7f5a65726f20416464726573730000000000000000000000000000000000000000600082015250565b6000614206600c8361323c565b9150614211826141d0565b602082019050919050565b60006020820190508181036000830152614235816141f9565b9050919050565b7f546f6b656e205365727669636520616c72656164792061646465640000000000600082015250565b6000614272601b8361323c565b915061427d8261423c565b602082019050919050565b600060208201905081810360008301526142a181614265565b9050919050565b7f556e6b6e6f776e205061636b6574000000000000000000000000000000000000600082015250565b60006142de600e8361323c565b91506142e9826142a8565b602082019050919050565b6000602082019050818103600083015261430d816142d1565b9050919050565b6000815190506143238161359a565b92915050565b60006020828403121561433f5761433e6129f6565b5b600061434d84828501614314565b91505092915050565b7f45524331393637557067726164653a206e657720696d706c656d656e7461746960008201527f6f6e206973206e6f742055555053000000000000000000000000000000000000602082015250565b60006143b2602e8361323c565b91506143bd82614356565b604082019050919050565b600060208201905081810360008301526143e1816143a5565b9050919050565b7f45524331393637557067726164653a20756e737570706f727465642070726f7860008201527f6961626c65555549440000000000000000000000000000000000000000000000602082015250565b600061444460298361323c565b915061444f826143e8565b604082019050919050565b6000602082019050818103600083015261447381614437565b9050919050565b7f556e6b6e6f776e2064657374696e6174696f6e20636861696e00000000000000600082015250565b60006144b060198361323c565b91506144bb8261447a565b602082019050919050565b600060208201905081810360008301526144df816144a3565b9050919050565b60006144f182612a00565b91506144fc83612a00565b925082820190508082111561451457614513613bc5565b5b92915050565b7f556e6b6e6f776e204174746573746f7200000000000000000000000000000000600082015250565b600061455060108361323c565b915061455b8261451a565b602082019050919050565b6000602082019050818103600083015261457f81614543565b9050919050565b6000819050919050565b6145a161459c82612a00565b614586565b82525050565b600081905092915050565b60006145bd82612b91565b6145c781856145a7565b93506145d7818560208601612bad565b80840191505092915050565b60008160601b9050919050565b60006145fb826145e3565b9050919050565b600061460d826145f0565b9050919050565b61462561462082612aca565b614602565b82525050565b6000614637828d614590565b602082019150614647828c614590565b602082019150614657828b614590565b602082019150614667828a6145b2565b91506146738289614590565b6020820191506146838288614614565b6014820191506146938287614614565b6014820191506146a38286614590565b6020820191506146b38285614614565b6014820191506146c38284614590565b6020820191508190509b9a5050505050505050505050565b7f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60008201527f6f74206120636f6e747261637400000000000000000000000000000000000000602082015250565b6000614737602d8361323c565b9150614742826146db565b604082019050919050565b600060208201905081810360008301526147668161472a565b9050919050565b7f5061636b657420616c726561647920636f6e73756d6564000000000000000000600082015250565b60006147a360178361323c565b91506147ae8261476d565b602082019050919050565b600060208201905081810360008301526147d281614796565b9050919050565b60006040820190506147ee6000830185612a80565b6147fb6020830184613507565b9392505050565b6060820160008201516148186000850182612b53565b50602082015161482b6020850182612b44565b50604082015161483e6040850182612b53565b50505050565b60006101208301600083015161485d6000860182612b44565b5060208301516148706020860182612b44565b506040830151848203604086015261488882826139be565b915050606083015161489d606086018261398f565b5060808301516148b060a0860182614802565b5060a08301516148c4610100860182612b44565b508091505092915050565b600060208201905081810360008301526148e98184614844565b905092915050565b7f416464726573733a20696e76616c69642064656c65676174652063616c6c0000600082015250565b6000614927601e8361323c565b9150614932826148f1565b602082019050919050565b600060208201905081810360008301526149568161491a565b9050919050565b600081519050919050565b600081905092915050565b600061497e8261495d565b6149888185614968565b9350614998818560208601612bad565b80840191505092915050565b60006149b08284614973565b915081905092915050565b600060208201905081810360008301526149d5818461324d565b90509291505056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a264697066735822122099d9430bfdc3e9ea364dce51a0e3b9ab09c151790e15b84c626012e70ef65dab64736f6c63430008130033";

// const chainId = 100;
// const num = 12;
// const multisigAddr = "0x0e27875afe33Ea44a9720fE0D70b1Cb9dc57aCC2";
// const _data  = new ethers.utils.AbiCoder().encode(["uint","address", "uint"], [chainmultisigAddr]);

// Encode deployment
const deployerInterface = new ethers.utils.Interface(CreateCallAbi);
const deployCallData = deployerInterface.encodeFunctionData("performCreate", [
    0,
    bytecode,
]);

const ethAdapter = new EthersAdapter({
    ethers,
    signerOrProvider: deployerSigner,
});
const safeService = new SafeApiKit.default({
    txServiceUrl: "https://safe-transaction-goerli.safe.global",
    ethAdapter,
});

const txData = {
    to: process.env.CREATECALL_CONTRACT_ADDRESS,
    value: "0",
    data: deployCallData,
};
const safeSdk = await Safe.default.create({
    ethAdapter: ethAdapter,
    safeAddress: SAFE_ADDRESS,
});
const safeTx = await safeSdk.createTransaction({
    safeTransactionData: txData,
});
const safeTxHash = await safeSdk.getTransactionHash(safeTx);

const signature = await safeSdk.signTypedData(safeTx);
console.log("txn hash", safeTxHash);

const transactionConfig = {
    safeAddress: SAFE_ADDRESS,
    safeTransactionData: safeTx.data,
    safeTxHash: safeTxHash,
    senderAddress: process.env.SENDER_ADDRESS,
    senderSignature: signature.data,
};

// await safeService.proposeTransaction(transactionConfig);